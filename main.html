<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIBE CODING</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Estilos para la cabecera fija */
        body {
            padding-top: 140px;
            /* Ajusta este valor al alto de tu cabecera */
            background-color: #FFF7ED;
            color: #4A2E2B;
            font-family: 'Inter', sans-serif;
        }

        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
        }
        
        /* Estilos para los tooltips */
        [data-tooltip] {
            position: relative;
            cursor: pointer;
        }
        [data-tooltip]::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background-color: #333;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
            margin-bottom: 5px;
        }
        [data-tooltip]:hover::after {
            opacity: 1;
            visibility: visible;
        }

        /* Estilos para el tablero del Trivial */
        .trivial-board {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            grid-template-rows: repeat(7, 1fr);
            gap: 4px;
            width: 100%;
            max-width: 500px;
            aspect-ratio: 1 / 1;
        }
        .trivial-cell {
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        .trivial-cell.path { background-color: #f0e6d2; border: 1px solid #d4cba6; }
        .trivial-cell .player-token {
            width: 60%;
            height: 60%;
            background-color: #c53030;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.4);
        }
    </style>
</head>

<body class="bg-orange-50 font-sans">
    <!-- Modal de Contrase√±a -->
    <div id="password-modal" class="fixed inset-0 z-[2000] flex items-center justify-center bg-black bg-opacity-60">
        <div class="bg-orange-100 border-4 border-amber-700 rounded-2xl p-8 shadow-xl text-center max-w-sm w-full">
            <h2 class="text-2xl font-bold text-amber-800 mb-4">Acceso Protegido</h2>
            <p class="text-stone-700 mb-6">Completa la frase para continuar:</p>
            <p class="text-lg italic text-amber-900 mb-2">Si no est√°n (<input type="text" id="pass1" class="w-20 text-center rounded border-amber-500">) no se les pueden dar los (<input type="text" id="pass2" class="w-24 text-center rounded border-amber-500">).</p>
            <button id="submit-password" class="mt-6 bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-6 rounded-lg shadow-md transition duration-300">Entrar</button>
            <p id="password-error" class="text-red-600 font-bold mt-4 hidden">Contrase√±a incorrecta. ¬°Int√©ntalo de nuevo!</p>
        </div>
    </div>


    <!-- Cabecera -->
    <header id="main-header" class="bg-crema-claro shadow-md bg-orange-100 hidden">
        <div class="container mx-auto px-6 py-3 flex flex-col items-center">
            <div class="flex items-center mb-3">
                <img src="https://i.postimg.cc/gjycnBqp/Imagen1.png" alt="Logo Vibe Coding" class="h-12 w-auto mr-4">
                <h1 id="main-title" class="text-4xl font-bold text-calabaza" style="color: #8B4513; text-shadow: 2px 2px 0 #F5DEB3, -2px -2px 0 #F5DEB3, 2px -2px 0 #F5DEB3, -2px 2px 0 #F5DEB3;">
                    VIBE CODING
                </h1>
            </div>
            <nav id="main-nav" class="flex flex-wrap justify-center gap-2">
                <button data-page="changelog" class="nav-button bg-orange-400 hover:bg-orange-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300">Changelog</button>
                <button data-page="game" class="nav-button bg-orange-400 hover:bg-orange-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300">Juego de Secuencias</button>
                <button data-page="memory" class="nav-button bg-orange-400 hover:bg-orange-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300">Memory</button>
                <button data-page="codyroby" class="nav-button bg-orange-400 hover:bg-orange-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300">Cody & Roby</button>
                <button data-page="algoritmos" class="nav-button bg-orange-400 hover:bg-orange-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300">Algoritmos</button>
                <button data-page="trivial" class="nav-button bg-orange-400 hover:bg-orange-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300">Trivial</button>
                <button data-page="redes" class="nav-button bg-orange-400 hover:bg-orange-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300">Redes</button>
                <button data-page="enlaces" class="nav-button bg-orange-400 hover:bg-orange-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300">Enlaces</button>
                <button data-page="tips" class="nav-button bg-orange-400 hover:bg-orange-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300">Consejos</button>
            </nav>
        </div>
    </header>

    <!-- Contenedor Principal -->
    <main class="container mx-auto p-6 hidden">
        <!-- P√°gina de Changelog -->
        <div id="page-changelog">
            <p class="text-lg text-amber-900 italic mb-4 text-center">La creaci√≥n de contenido puede ser un proceso iterativo. Con Vibe Coding, puedes generar una base, probarla, y refinarla con nuevos prompts, permitiendo una evoluci√≥n constante de tus recursos educativos de manera √°gil y sencilla.</p>

            <h2 class="text-3xl font-bold text-center mb-6 text-amber-800">Historial de Cambios</h2>
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    v0.x - Estructura y Estilo Inicial
                </summary>
                <div class="px-6 pb-4 border-t border-orange-200">
                    <table class="min-w-full">
                        <thead class="sr-only"><tr><th>Versi√≥n</th><th>Prompt</th><th>Efecto</th></tr></thead>
                        <tbody class="divide-y divide-orange-100">
                            <tr><td class="py-4 pr-4 align-top w-24"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800">v0.1</span></td><td class="py-4 pr-4 text-sm text-stone-700 align-top">Crear p√°gina web con cabecera fija, t√≠tulo "VIBE CODING" y un changelog inicial. Paleta de colores "oto√±o c√°lido".</td><td class="py-4 text-sm text-stone-700 align-top">Se crea la estructura b√°sica de la p√°gina con la cabecera y la tabla de changelog.</td></tr>
                            <tr><td class="py-4 pr-4 align-top w-24"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800">v0.2</span></td><td class="py-4 pr-4 text-sm text-stone-700 align-top">Cambiar sombreado de cabecera por un bordeado y a√±adir pie de p√°gina.</td><td class="py-4 text-sm text-stone-700 align-top">Se ajusta el estilo del t√≠tulo y se a√±ade el pie de p√°gina.</td></tr>
                            <tr><td class="py-4 pr-4 align-top w-24"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800">v0.3</span></td><td class="py-4 pr-4 text-sm text-stone-700 align-top">Ajustar tablas para que el texto se ajuste al ancho y resaltar nombre en el pie.</td><td class="py-4 text-sm text-stone-700 align-top">Mejoras de formato en la tabla y el pie de p√°gina para mayor legibilidad.</td></tr>
                        </tbody>
                    </table>
                </div>
            </details>
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    v1.x y v2.x - Creaci√≥n y Refinamiento del Juego de Secuencias
                </summary>
                 <div class="px-6 pb-4 border-t border-orange-200">
                    <table class="min-w-full">
                        <thead class="sr-only"><tr><th>Versi√≥n</th><th>Prompt</th><th>Efecto</th></tr></thead>
                        <tbody class="divide-y divide-orange-100">
                             <tr><td class="py-4 pr-4 align-top w-24"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800">v1.0-v2.10</span></td><td class="py-4 pr-4 text-sm text-stone-700 align-top">Iteraciones sucesivas para crear un juego de secuencias l√≥gicas, integrando recursos de ARASAAC, depurando errores de c√≥digo, a√±adiendo niveles, mejorando la interfaz y la estructura de la p√°gina.</td><td class="py-4 text-sm text-stone-700 align-top">Se desarrolla un juego interactivo completo, se mejora la organizaci√≥n del contenido y se a√±aden nuevas pesta√±as de navegaci√≥n.</td></tr>
                        </tbody>
                    </table>
                </div>
            </details>
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    v3.x - Nueva Actividad: Memory
                </summary>
                 <div class="px-6 pb-4 border-t border-orange-200">
                    <table class="min-w-full">
                        <thead class="sr-only"><tr><th>Versi√≥n</th><th>Prompt</th><th>Efecto</th></tr></thead>
                        <tbody class="divide-y divide-orange-100">
                             <tr><td class="py-4 pr-4 align-top w-24"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">v3.0-v3.4</span></td><td class="py-4 pr-4 text-sm text-stone-700 align-top">Se desarrolla un memory interactivo, se ajusta su est√©tica, se completa la documentaci√≥n y se mejora la visualizaci√≥n del proceso de creaci√≥n con diagramas de flujo.</td><td class="py-4 text-sm text-stone-700 align-top">Se a√±ade y documenta una nueva actividad de Memory, manteniendo la coherencia visual y estructural de la web.</td></tr>
                        </tbody>
                    </table>
                </div>
            </details>
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    v4.x - Nueva Actividad y Consejos
                </summary>
                 <div class="px-6 pb-4 border-t border-orange-200">
                    <table class="min-w-full">
                        <thead class="sr-only"><tr><th>Versi√≥n</th><th>Prompt</th><th>Efecto</th></tr></thead>
                        <tbody class="divide-y divide-orange-100">
                            <tr><td class="py-4 pr-4 align-top w-24"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">v4.0-v4.7</span></td><td class="py-4 pr-4 text-sm text-stone-700 align-top">Se a√±ade el simulador de Cody & Roby. Se realizan ajustes de dise√±o, se unifica la paleta de colores, se reestructura la cabecera y se ampl√≠a y organiza la secci√≥n de "Consejos".</td><td class="py-4 text-sm text-stone-700 align-top">Se a√±ade una nueva actividad de programaci√≥n, se refina el dise√±o global y se mejora la secci√≥n de consejos.</td></tr>
                        </tbody>
                    </table>
                </div>
            </details>
             <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    v5.x - Nueva Actividad: Algoritmos y Enlaces
                </summary>
                 <div class="px-6 pb-4 border-t border-orange-200">
                    <table class="min-w-full">
                        <thead class="sr-only"><tr><th>Versi√≥n</th><th>Prompt</th><th>Efecto</th></tr></thead>
                        <tbody class="divide-y divide-orange-100">
                             <tr><td class="py-4 pr-4 align-top w-24"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800">v5.0-v5.2</span></td><td class="py-4 pr-4 text-sm text-stone-700 align-top">Se crea un visualizador de algoritmos y una nueva pesta√±a de "Enlaces". Se a√±ade justificaci√≥n pr√°ctica a la actividad de algoritmos.</td><td class="py-4 text-sm text-stone-700 align-top">Se expande el proyecto con una nueva actividad y una secci√≥n de recursos para la comunidad.</td></tr>
                        </tbody>
                    </table>
                </div>
            </details>
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden" open>
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    v6.x - Nueva Actividad: Trivial y Mejoras Pedag√≥gicas
                </summary>
                 <div class="px-6 pb-4 border-t border-orange-200">
                    <table class="min-w-full">
                        <thead class="sr-only"><tr><th>Versi√≥n</th><th>Prompt</th><th>Efecto</th></tr></thead>
                        <tbody class="divide-y divide-orange-100">
                             <tr><td class="py-4 pr-4 align-top w-24"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">v6.0-v6.5</span></td><td class="py-4 pr-4 text-sm text-stone-700 align-top">Se a√±ade un Trivial sobre descomposici√≥n, se enriquece el contenido pedag√≥gico de otras secciones, se refina el Trivial a un formato de ruleta con un banco de preguntas ampliado y se a√±ade un simulador de redes.</td><td class="py-4 text-sm text-stone-700 align-top">Se incorporan dos nuevas actividades (Trivial, Redes) y se mejora la justificaci√≥n pedag√≥gica general. El Trivial evoluciona a un formato de ruleta.</td></tr>
                             <tr><td class="py-4 pr-4 align-top w-24"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">v6.6</span></td><td class="py-4 pr-4 text-sm text-stone-700 align-top">A√±adir una contrase√±a para acceder al contenido.</td><td class="py-4 text-sm text-stone-700 align-top">Se implementa un modal de contrase√±a que bloquea el acceso a la web hasta que se introduce la clave correcta.</td></tr>
                        </tbody>
                    </table>
                </div>
            </details>

        </div>

        <!-- P√°gina del Juego de Secuencia -->
        <div id="page-game" class="hidden">
            <p class="text-lg text-amber-900 italic mb-4 text-center">La creaci√≥n de actividades interactivas puede ser compleja. Con Vibe Coding, los docentes pueden generar juegos personalizados basados en el curr√≠culo, modificarlos sobre la marcha y adaptarlos a las necesidades de su alumnado, facilitando la integraci√≥n de la tecnolog√≠a en el aula.</p>

            <!-- Secci√≥n 1: El camino hasta el producto final -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    El camino hasta el producto final
                </summary>
                <div class="p-6 border-t border-orange-200">
                    <p class="mb-6 text-stone-700 text-center">A continuaci√≥n se muestra el flujo de trabajo seguido para la creaci√≥n de esta actividad, desde la idea inicial hasta el producto final.</p>
                    <div class="flex flex-col items-center space-y-4">
                        <!-- Nodo 1 -->
                        <div class="bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-4 rounded-r-lg shadow-md w-full max-w-2xl">
                            <p class="font-bold">v1.0 - Creaci√≥n Inicial</p>
                            <p class="text-sm">Se genera la estructura base del juego de secuencias en una nueva pesta√±a, con funcionalidad de arrastrar y soltar.</p>
                        </div>
                        <div class="text-2xl font-bold text-orange-400">‚Üì</div>
                        <!-- Nodo 2 -->
                        <div class="bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-4 rounded-r-lg shadow-md w-full max-w-2xl">
                            <p class="font-bold">v1.1 - Integraci√≥n de Recursos</p>
                            <p class="text-sm">Se sustituyen los elementos gr√°ficos iniciales por pictogramas de ARASAAC para alinear el juego con objetivos de accesibilidad.</p>
                        </div>
                        <div class="text-2xl font-bold text-orange-400">‚Üì</div>
                        <!-- Nodo 3 -->
                        <div class="bg-amber-100 border-l-4 border-amber-500 text-amber-700 p-4 rounded-r-lg shadow-md w-full max-w-2xl">
                            <p class="font-bold">v1.2 a v1.3 - Depuraci√≥n y Correcci√≥n</p>
                            <p class="text-sm">Se solucionan errores de c√≥digo relacionados con la compatibilidad t√°ctil y la carga de la librer√≠a de sonido.</p>
                        </div>
                        <div class="text-2xl font-bold text-amber-400">‚Üì</div>
                         <!-- Nodo 4 -->
                        <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-r-lg shadow-md w-full max-w-2xl">
                            <p class="font-bold">v2.0 a v2.6 - Refinamiento y Contenido</p>
                            <p class="text-sm">Se a√±aden los tres niveles ("Tengo sed", "¬°Fuego!", "Un martes m√°s"), se mejora la interfaz con tooltips, se elimina la librer√≠a de audio externa y se a√±ade feedback de finalizaci√≥n (aplausos, copa). </p>
                        </div>
                         <div class="text-2xl font-bold text-yellow-400">‚Üì</div>
                        <!-- Nodo 5 -->
                        <div class="bg-stone-100 border-l-4 border-stone-500 text-stone-700 p-4 rounded-r-lg shadow-md w-full max-w-2xl">
                            <p class="font-bold">v2.7 a v2.10 - Reorganizaci√≥n Estructural</p>
                            <p class="text-sm">Se reorganiza la p√°gina en secciones colapsables para una mejor presentaci√≥n del contenido y se crean nuevas pesta√±as.</p>
                        </div>
                    </div>
                </div>
            </details>
            
            <!-- Secci√≥n 2: Relaci√≥n con PC y curr√≠culo -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Relaci√≥n con Pensamiento Computacional y Curr√≠culo
                </summary>
                <div class="p-6 border-t border-orange-200">
                    <div id="carousel-secuencia" class="relative overflow-hidden rounded-lg shadow-lg">
                        <div class="carousel-inner-secuencia flex transition-transform duration-500">
                            <!-- Diapositiva 1 -->
                            <div class="carousel-item-secuencia w-full flex-shrink-0 bg-orange-100 p-8">
                                <h3 class="text-2xl font-bold text-amber-800 mb-4">Pensamiento Computacional</h3>
                                <ul class="list-disc list-inside space-y-2 text-stone-700">
                                    <li><strong>Secuenciaci√≥n y patrones:</strong> El alumnado debe ordenar los pictogramas en una secuencia l√≥gica, reconociendo el patr√≥n temporal o causal que los une.</li>
                                    <li><strong>Algoritmos:</strong> Cada soluci√≥n correcta es, en esencia, un peque√±o algoritmo visual que representa un proceso.</li>
                                    <li><strong>Descomposici√≥n:</strong> Para resolver la secuencia, deben descomponer un evento complejo (como la rutina matutina) en pasos m√°s peque√±os y manejables.</li>
                                </ul>
                            </div>
                            <!-- Diapositiva 2 -->
                            <div class="carousel-item-secuencia w-full flex-shrink-0 bg-orange-100 p-8">
                                <h3 class="text-2xl font-bold text-amber-800 mb-4">Relaci√≥n con el Curr√≠culo (CLM)</h3>
                                <ul class="list-disc list-inside space-y-2 text-stone-700">
                                    <li><strong>√Årea "Descubrimiento del Entorno":</strong> Se trabajan relaciones de secuencia y causalidad sobre fen√≥menos del entorno natural y social.</li>
                                    <li><strong>Competencia Espec√≠fica 2:</strong> Se desarrollan procedimientos del m√©todo cient√≠fico y destrezas de pensamiento computacional de manera l√∫dica.</li>
                                    <li><strong>Saberes B√°sicos:</strong> Se abordan "Relaciones de causalidad y consecuencia" del bloque B-Entorno.</li>
                                    <li><strong>C√≥digo Escuela 4.0:</strong> La actividad se alinea con la integraci√≥n de las TIC y el desarrollo de competencias digitales.</li>
                                </ul>
                            </div>
                            <!-- Diapositiva 3 -->
                            <div class="carousel-item-secuencia w-full flex-shrink-0 bg-orange-100 p-8">
                                <h3 class="text-2xl font-bold text-amber-800 mb-4">Consejos Vibe Coding para esta actividad</h3>
                                <p class="text-stone-700">
                                    Para generar una actividad como esta, puedes usar prompts como:
                                    <br><br>
                                    - "Crea un juego de arrastrar y soltar para ordenar secuencias l√≥gicas sobre [tema], para ni√±os de 4 a√±os."
                                    <br>
                                    - "A√±ade tres niveles de dificultad, con 3, 4 y 5 elementos respectivamente."
                                    <br>
                                    - "Incorpora un sonido de celebraci√≥n cuando la secuencia sea correcta."
                                    <br>
                                    - "Usa estas im√°genes [enlaces] para las tarjetas del juego."
                                </p>
                            </div>
                        </div>
                        <button class="prev-secuencia absolute top-1/2 left-2 transform -translate-y-1/2 bg-white/50 hover:bg-white/80 rounded-full p-2 transition"><span class="text-2xl">‚Äπ</span></button>
                        <button class="next-secuencia absolute top-1/2 right-2 transform -translate-y-1/2 bg-white/50 hover:bg-white/80 rounded-full p-2 transition"><span class="text-2xl">‚Ä∫</span></button>
                    </div>
                </div>
            </details>

            <!-- Secci√≥n de Justificaci√≥n Pr√°ctica -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Justificaci√≥n Pr√°ctica: ¬øPor qu√© aprender esto?
                </summary>
                <div class="p-6 border-t border-orange-200 text-stone-700 space-y-3">
                    <p>Entender y ordenar secuencias es una habilidad fundamental que usamos todos los d√≠as, ¬°incluso sin darnos cuenta!</p>
                    <ul class="list-disc list-inside space-y-2 pl-4">
                        <li><strong>Seguir una receta:</strong> Para cocinar algo, tienes que seguir los pasos en el orden correcto.</li>
                        <li><strong>Contar una historia:</strong> Las historias tienen un principio, un desarrollo y un final. Ordenar los eventos es clave para que se entiendan.</li>
                        <li><strong>Rutinas diarias:</strong> Nos levantamos, desayunamos, nos vestimos... todo sigue una secuencia l√≥gica que nos ayuda a organizarnos.</li>
                        <li><strong>Montar un juguete:</strong> Las instrucciones son una secuencia de pasos que debemos seguir para construir algo correctamente.</li>
                    </ul>
                    <p class="mt-4">Este juego ayuda a los ni√±os a desarrollar la base del pensamiento l√≥gico que necesitar√°n para resolver problemas m√°s complejos en el futuro.</p>
                </div>
            </details>

            <!-- Secci√≥n 3: Producto final -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden" open>
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Producto Final
                </summary>
                <div class="p-6 border-t border-orange-200">
                    <div id="game-container" class="max-w-4xl mx-auto p-4 rounded-lg shadow-lg bg-orange-200">
                        <h2 id="level-title" class="text-2xl font-bold text-center mb-4 text-amber-800">Nivel 1: Tengo sed</h2>
                        <div id="drop-container" class="flex justify-center items-center space-x-2 p-4 bg-orange-100 rounded-lg min-h-[120px]">
                            <!-- Drop zones will be generated here -->
                        </div>
                        <div id="drag-container" class="flex justify-center items-center space-x-2 mt-4 p-4 min-h-[120px]">
                            <!-- Drag items will be generated here -->
                        </div>
                        <div class="flex justify-center mt-4 space-x-4">
                            <button id="level1" data-tooltip="Nivel 1" class="level-btn bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg">1</button>
                            <button id="level2" data-tooltip="Nivel 2" class="level-btn bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg">2</button>
                            <button id="level3" data-tooltip="Nivel 3" class="level-btn bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg">3</button>
                        </div>
                        <!-- Modal for next level -->
                        <div id="next-level-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
                            <div class="bg-white p-8 rounded-lg shadow-xl text-center">
                                <p id="modal-message" class="text-xl mb-4"></p>
                                <img id="final-cup" src="https://i.postimg.cc/0NJhsL4T/copa.png" alt="Copa" class="mx-auto mb-4 h-24 hidden"/>
                                <button id="next-level-btn" class="bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded">Siguiente Nivel</button>
                                <button id="close-modal-btn" class="bg-stone-500 hover:bg-stone-600 text-white font-bold py-2 px-4 rounded">Cerrar</button>
                            </div>
                        </div>
                    </div>
                    <div class="text-center mt-4 text-sm text-stone-600">
                        <p><strong>Pictogramas:</strong> ARASAAC (Sergio Palao) | <strong>Licencia:</strong> CC (BY-NC-SA)</p>
                    </div>
                </div>
            </details>
        </div>
        
        <!-- P√°gina del Memory -->
        <div id="page-memory" class="hidden">
             <p class="text-lg text-amber-900 italic mb-4 text-center">Los juegos de memoria son un cl√°sico en el aula. Con Vibe Coding, puedes transformar esta actividad tradicional en un recurso digital interactivo en minutos, seleccionando tem√°ticas, niveles de dificultad y obteniendo un producto final listo para usar con tu alumnado.</p>
            
            <!-- Secci√≥n 1: El camino hasta el producto final (Memory) -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    El camino hasta el producto final
                </summary>
                <div class="p-6 border-t border-orange-200">
                    <p class="mb-6 text-stone-700 text-center">A continuaci√≥n se muestra el flujo de trabajo seguido para la creaci√≥n de esta actividad, desde la idea inicial hasta el producto final.</p>
                    <div class="flex flex-col items-center space-y-4">
                        <!-- Nodo 1 -->
                        <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-r-lg shadow-md w-full max-w-2xl">
                            <p class="font-bold">v3.0 - Creaci√≥n a partir de Prompt Detallado</p>
                            <p class="text-sm">Se genera el juego de Memory completo en una nueva pesta√±a, incluyendo la fundamentaci√≥n curricular, la l√≥gica del juego, los estilos y la estructura HTML en una sola iteraci√≥n.</p>
                        </div>
                        <div class="text-2xl font-bold text-yellow-400">‚Üì</div>
                        <!-- Nodo 2 -->
                        <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-r-lg shadow-md w-full max-w-2xl">
                            <p class="font-bold">v3.1 - Organizaci√≥n del Contenido</p>
                            <p class="text-sm">Se aplica la estructura de secciones colapsables (proceso, curr√≠culo, producto) para mantener la coherencia con el resto de la web.</p>
                        </div>
                        <div class="text-2xl font-bold text-yellow-400">‚Üì</div>
                        <!-- Nodo 3 -->
                         <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-r-lg shadow-md w-full max-w-2xl">
                            <p class="font-bold">v3.2 y v3.3 - Ajustes y Documentaci√≥n</p>
                            <p class="text-sm">Se centra el juego, se ajusta la paleta de colores para alinearla con la web y se completa la documentaci√≥n del proceso de creaci√≥n.</p>
                        </div>
                    </div>
                </div>
            </details>

            <!-- Secci√≥n 2: Relaci√≥n con PC y curr√≠culo (Memory) -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Relaci√≥n con Pensamiento Computacional y Curr√≠culo
                </summary>
                <div class="p-6 border-t border-orange-200">
                     <div id="carousel-memory" class="relative overflow-hidden rounded-lg shadow-lg">
                        <div class="carousel-inner-memory flex transition-transform duration-500">
                            <!-- Diapositiva 1 -->
                            <div class="carousel-item-memory w-full flex-shrink-0 bg-orange-100 p-8">
                                <h3 class="text-2xl font-bold text-amber-800 mb-4">Pensamiento Computacional Aplicado</h3>
                                <ul class="list-disc list-inside space-y-2 text-stone-700">
                                    <li><strong>Reconocimiento de Patrones:</strong> Identificar elementos iguales entre opciones diferentes.</li>
                                    <li><strong>Abstracci√≥n:</strong> Generalizar caracter√≠sticas comunes de objetos similares.</li>
                                    <li><strong>Memoria Algor√≠tmica:</strong> Recordar posiciones y crear estrategias de b√∫squeda.</li>
                                    <li><strong>Comparaci√≥n:</strong> Evaluar semejanzas y diferencias visuales.</li>
                                </ul>
                            </div>
                            <!-- Diapositiva 2 -->
                            <div class="carousel-item-memory w-full flex-shrink-0 bg-orange-100 p-8">
                                <h3 class="text-2xl font-bold text-amber-800 mb-4">Relaci√≥n con el Curr√≠culo (CLM)</h3>
                                <ul class="list-disc list-inside space-y-2 text-stone-700">
                                    <li><strong>√Årea "Comunicaci√≥n y Representaci√≥n":</strong> Se trabaja la comprensi√≥n de la funcionalidad de diferentes c√≥digos.</li>
                                    <li><strong>Saberes B√°sicos:</strong> Se abordan relaciones de correspondencia, semejanza y diferencia.</li>
                                    <li><strong>Pensamiento Computacional:</strong> Se introduce desde metodolog√≠as experienciales y l√∫dicas.</li>
                                    <li><strong>C√≥digo Escuela 4.0:</strong> La actividad promueve el desarrollo de competencias digitales transversales.</li>
                                </ul>
                            </div>
                        </div>
                        <button class="prev-memory absolute top-1/2 left-2 transform -translate-y-1/2 bg-white/50 hover:bg-white/80 rounded-full p-2 transition"><span class="text-2xl">‚Äπ</span></button>
                        <button class="next-memory absolute top-1/2 right-2 transform -translate-y-1/2 bg-white/50 hover:bg-white/80 rounded-full p-2 transition"><span class="text-2xl">‚Ä∫</span></button>
                    </div>
                </div>
            </details>

             <!-- Secci√≥n de Justificaci√≥n Pr√°ctica -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Justificaci√≥n Pr√°ctica: ¬øPor qu√© aprender esto?
                </summary>
                <div class="p-6 border-t border-orange-200 text-stone-700 space-y-3">
                    <p>La memoria visual y el reconocimiento de patrones son como superpoderes para nuestro cerebro. Los usamos constantemente:</p>
                    <ul class="list-disc list-inside space-y-2 pl-4">
                        <li><strong>Para encontrar cosas:</strong> Cuando buscas tus calcetines en un caj√≥n, tu cerebro est√° buscando un patr√≥n (el par que coincide).</li>
                        <li><strong>Para aprender a leer:</strong> Reconocer la misma letra una y otra vez es un ejercicio de memoria visual y de patrones.</li>
                        <li><strong>Para recordar caras:</strong> Identificamos a las personas reconociendo los patrones de sus rasgos faciales.</li>
                        <li><strong>En los juegos:</strong> Desde encontrar las diferencias hasta jugar al ajedrez, reconocer patrones es clave para ganar.</li>
                    </ul>
                    <p class="mt-4">Entrenar la memoria con juegos como este hace que nuestro cerebro sea m√°s r√°pido y eficiente a la hora de identificar informaci√≥n importante.</p>
                </div>
            </details>
            
            <!-- Secci√≥n 3: Producto final (Memory) -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden" open>
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Producto Final
                </summary>
                <div class="p-6 border-t border-orange-200 flex justify-center">
                    <div class="memory-game-container max-w-2xl bg-orange-200 border-4 border-amber-700 rounded-2xl p-6 shadow-xl">
                        <h1 class="text-3xl font-bold text-center text-amber-800 mb-4">üß© Memory de Parejas</h1>
                        <div class="flex justify-center gap-4 my-4">
                            <button class="memory-difficulty-btn active bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-full" data-level="easy">üå± F√°cil</button>
                            <button class="memory-difficulty-btn bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-full" data-level="medium">üåø Medio</button>
                            <button class="memory-difficulty-btn bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-full" data-level="hard">üå≥ Dif√≠cil</button>
                        </div>
                        <div class="flex justify-around text-center my-4 text-amber-900 font-bold">
                            <div>Intentos: <span id="memory-attempts" class="text-xl">0</span></div>
                            <div>Parejas: <span id="memory-pairs" class="text-xl">0/6</span></div>
                            <div>Tiempo: <span id="memory-timer" class="text-xl">00:00</span></div>
                        </div>
                        <div class="memory-board board-easy grid gap-3 mx-auto" id="memory-gameBoard"></div>
                        <div id="memory-successModal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center">
                            <div class="bg-white p-8 rounded-lg shadow-xl text-center">
                                <h2 class="text-2xl font-bold text-amber-700 mb-2">¬°Fant√°stico! üéâ</h2>
                                <p>¬°Has encontrado todas las parejas!</p>
                                <button id="memory-playAgainBtn" class="mt-4 bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-full">Jugar otra vez</button>
                            </div>
                        </div>
                    </div>
                </div>
                 <div class="text-center mt-4 text-sm text-stone-600">
                    <p><strong>Pictogramas:</strong> ARASAAC (Sergio Palao) | <strong>Licencia:</strong> CC (BY-NC-SA)</p>
                </div>
            </details>
        </div>

        <!-- P√°gina de Cody & Roby -->
        <div id="page-codyroby" class="hidden">
            <p class="text-lg text-amber-900 italic mb-4 text-center">Ense√±ar a programar puede parecer un reto. Vibe Coding simplifica la creaci√≥n de simuladores como este, donde el alumnado puede experimentar con algoritmos y depuraci√≥n en un entorno visual, sentando las bases del pensamiento computacional antes de pasar a la rob√≥tica f√≠sica.</p>

            <!-- Secci√≥n 1: El camino hasta el producto final -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    El camino hasta el producto final
                </summary>
                <div class="p-6 border-t border-orange-200">
                     <p class="mb-6 text-stone-700 text-center">A continuaci√≥n se muestra el flujo de trabajo seguido para la creaci√≥n de esta actividad, desde la idea inicial hasta el producto final.</p>
                    <div class="flex flex-col items-center space-y-4">
                        <!-- Nodo 1 -->
                        <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-r-lg shadow-md w-full max-w-2xl">
                            <p class="font-bold">v4.0 - Creaci√≥n a partir de Prompt Detallado</p>
                            <p class="text-sm">Se genera el simulador de Cody & Roby, junto con su documentaci√≥n curricular y estructura, en una √∫nica iteraci√≥n a partir de un prompt elaborado con la ayuda de <span class="font-semibold">Perplexity</span>.</p>
                        </div>
                         <div class="text-2xl font-bold text-red-400">‚Üì</div>
                        <!-- Nodo 2 -->
                        <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-r-lg shadow-md w-full max-w-2xl">
                            <p class="font-bold">Ajustes y Adaptaci√≥n Visual</p>
                            <p class="text-sm">Se adapta la paleta de colores y el dise√±o del simulador para integrarlo de forma coherente con la est√©tica "oto√±o c√°lido" del resto de la web. Se reemplazan los marcadores de imagen por emojis funcionales.</p>
                        </div>
                    </div>
                </div>
            </details>

            <!-- Secci√≥n 2: Relaci√≥n con PC y curr√≠culo -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Relaci√≥n con Pensamiento Computacional y Curr√≠culo
                </summary>
                <div class="p-6 border-t border-orange-200">
                    <div id="carousel-codyroby" class="relative overflow-hidden rounded-lg shadow-lg">
                        <div class="carousel-inner-codyroby flex transition-transform duration-500">
                            <!-- Diapositiva 1 -->
                            <div class="carousel-item-codyroby w-full flex-shrink-0 bg-orange-100 p-8">
                                <h3 class="text-2xl font-bold text-amber-800 mb-4">Pensamiento Computacional Integrado</h3>
                                <ul class="list-disc list-inside space-y-2 text-stone-700">
                                    <li><strong>Algoritmos:</strong> Creaci√≥n de secuencias de comandos para resolver desaf√≠os.</li>
                                    <li><strong>Debugging:</strong> Identificaci√≥n y correcci√≥n sistem√°tica de errores de ruta.</li>
                                    <li><strong>Bucles y Condicionales:</strong> Aplicaci√≥n de repeticiones y l√≥gica IF-THEN.</li>
                                    <li><strong>Descomposici√≥n:</strong> Divisi√≥n de problemas complejos en subproblemas simples.</li>
                                </ul>
                            </div>
                            <!-- Diapositiva 2 -->
                            <div class="carousel-item-codyroby w-full flex-shrink-0 bg-orange-100 p-8">
                                <h3 class="text-2xl font-bold text-amber-800 mb-4">Relaci√≥n con el Curr√≠culo (CLM)</h3>
                                <ul class="list-disc list-inside space-y-2 text-stone-700">
                                    <li><strong>√Årea de Matem√°ticas:</strong> Desarrollo de destrezas personales y gesti√≥n de emociones en el aprendizaje.</li>
                                    <li><strong>√Årea de Conocimiento del Medio:</strong> Identificaci√≥n de elementos del paisaje y acciones humanas.</li>
                                    <li><strong>Integraci√≥n Transversal:</strong> Fomenta el pensamiento computacional en todas las √°reas, como marcan los art√≠culos 16 y 21 del decreto.</li>
                                </ul>
                            </div>
                        </div>
                        <button class="prev-codyroby absolute top-1/2 left-2 transform -translate-y-1/2 bg-white/50 hover:bg-white/80 rounded-full p-2 transition"><span class="text-2xl">‚Äπ</span></button>
                        <button class="next-codyroby absolute top-1/2 right-2 transform -translate-y-1/2 bg-white/50 hover:bg-white/80 rounded-full p-2 transition"><span class="text-2xl">‚Ä∫</span></button>
                    </div>
                </div>
            </details>

            <!-- Secci√≥n de Justificaci√≥n Pr√°ctica -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Justificaci√≥n Pr√°ctica: ¬øPor qu√© aprender esto?
                </summary>
                <div class="p-6 border-t border-orange-200 text-stone-700 space-y-3">
                    <p>Programar un robot en un tablero es, en realidad, una forma de practicar c√≥mo dar instrucciones claras y precisas, una habilidad esencial para la vida.</p>
                    <ul class="list-disc list-inside space-y-2 pl-4">
                        <li><strong>Montar un mueble:</strong> Las instrucciones son un algoritmo que debes seguir paso a paso para no equivocarte.</li>
                        <li><strong>Planificar una excursi√≥n:</strong> Tienes que decidir la ruta (los pasos), prever posibles problemas (obst√°culos) y asegurarte de llegar a tu destino.</li>
                        <li><strong>Explicar un juego de mesa:</strong> Debes dar las reglas de forma ordenada para que los dem√°s entiendan c√≥mo jugar.</li>
                        <li><strong>Resolver un problema matem√°tico:</strong> A menudo, tienes que aplicar una serie de operaciones en un orden espec√≠fico para llegar a la soluci√≥n.</li>
                    </ul>
                    <p class="mt-4">Actividades como Cody & Roby nos ense√±an a pensar de forma estructurada y a dividir grandes tareas en pasos m√°s peque√±os y manejables.</p>
                </div>
            </details>
            
            <!-- Secci√≥n 3: Producto final -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden" open>
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Producto Final
                </summary>
                <div class="p-6 border-t border-orange-200">
                    <div class="codyroby-game-container max-w-6xl mx-auto bg-orange-200 border-4 border-amber-700 rounded-2xl p-6 shadow-xl">
                        <h1 class="text-3xl font-bold text-center text-amber-800 mb-4">ü§ñ Simulador Cody & Roby</h1>
                        <div class="level-selector flex justify-center gap-4 mb-4">
                            <button class="codyroby-level-btn active" data-level="1">Nivel 1</button>
                            <button class="codyroby-level-btn" data-level="2">Nivel 2</button>
                            <button class="codyroby-level-btn" data-level="3">Nivel 3</button>
                            <button class="codyroby-level-btn" data-level="4">Nivel 4</button>
                        </div>
                        <div class="codyroby-game-layout grid gap-4">
                            <div class="command-bank bg-orange-100 border-2 border-amber-600 rounded-lg p-4">
                                <h3 class="text-lg font-bold text-center text-amber-800 mb-2">Banco de Comandos</h3>
                                <div class="command-card" draggable="true" data-command="forward">‚¨ÜÔ∏è<br>Avanzar</div>
                                <div class="command-card" draggable="true" data-command="turn-left">‚¨ÖÔ∏è<br>Girar Izq.</div>
                                <div class="command-card" draggable="true" data-command="turn-right">‚û°Ô∏è<br>Girar Der.</div>
                            </div>
                            <div class="codyroby-game-board grid grid-cols-8 grid-rows-8 gap-1 bg-amber-100 p-2 rounded-lg"></div>
                            <div class="program-area bg-orange-100 border-2 border-amber-600 rounded-lg p-4">
                                <h3 class="text-lg font-bold text-center text-amber-800 mb-2">Mi Programa</h3>
                                <div class="program-sequence min-h-[300px] bg-white border-2 border-dashed border-amber-500 rounded p-2 flex flex-col gap-1"></div>
                            </div>
                        </div>
                        <div class="control-panel flex justify-center gap-4 mt-4">
                            <button id="codyroby-executeBtn" class="codyroby-control-button">‚ñ∂Ô∏è Ejecutar</button>
                            <button id="codyroby-clearBtn" class="codyroby-control-button">üóëÔ∏è Borrar</button>
                            <button id="codyroby-resetBtn" class="codyroby-control-button">üîÑ Reiniciar</button>
                        </div>
                    </div>
                </div>
                 <div class="text-center mt-4 text-sm text-stone-600">
                    <p><strong>Pictogramas:</strong> ARASAAC (Sergio Palao) | <strong>Licencia:</strong> CC (BY-NC-SA)</p>
                </div>
            </details>
        </div>

        <!-- P√°gina de Algoritmos -->
        <div id="page-algoritmos" class="hidden">
            <p class="text-lg text-amber-900 italic mb-4 text-center">Los algoritmos de ordenaci√≥n son fundamentales en inform√°tica, pero pueden ser abstractos. Con Vibe Coding, puedes crear visualizadores que convierten estos procesos complejos en animaciones claras y comprensibles, facilitando al alumnado la conexi√≥n entre matem√°ticas y programaci√≥n.</p>
            
            <!-- Secci√≥n 1: El camino hasta el producto final -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    El camino hasta el producto final
                </summary>
                <div class="p-6 border-t border-orange-200">
                     <p class="mb-6 text-stone-700 text-center">A continuaci√≥n se muestra el flujo de trabajo seguido para la creaci√≥n de esta actividad.</p>
                    <div class="flex flex-col items-center space-y-4">
                        <!-- Nodo 1 -->
                        <div class="bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 rounded-r-lg shadow-md w-full max-w-2xl">
                            <p class="font-bold">v5.0 - Creaci√≥n a partir de Prompt Detallado</p>
                            <p class="text-sm">Se genera el visualizador de algoritmos, con su documentaci√≥n y l√≥gica, a partir de un prompt elaborado con la ayuda de <span class="font-semibold">Perplexity</span>.</p>
                        </div>
                         <div class="text-2xl font-bold text-blue-400">‚Üì</div>
                        <!-- Nodo 2 -->
                        <div class="bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 rounded-r-lg shadow-md w-full max-w-2xl">
                            <p class="font-bold">Ajustes y Adaptaci√≥n Visual</p>
                            <p class="text-sm">Se integra la actividad en una nueva pesta√±a, se adapta la paleta de colores a la est√©tica "oto√±o c√°lido" y se reemplazan las im√°genes por emojis.</p>
                        </div>
                    </div>
                </div>
            </details>

             <!-- Secci√≥n 2: Relaci√≥n con PC y curr√≠culo -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Relaci√≥n con Pensamiento Computacional y Curr√≠culo
                </summary>
                <div class="p-6 border-t border-orange-200">
                    <div id="carousel-algoritmos" class="relative overflow-hidden rounded-lg shadow-lg">
                        <div class="carousel-inner-algoritmos flex transition-transform duration-500">
                            <!-- Diapositiva 1 -->
                            <div class="carousel-item-algoritmos w-full flex-shrink-0 bg-orange-100 p-8">
                                <h3 class="text-2xl font-bold text-amber-800 mb-4">Pensamiento Computacional Aplicado</h3>
                                <ul class="list-disc list-inside space-y-2 text-stone-700">
                                    <li><strong>Algoritmos:</strong> Comprensi√≥n de secuencias de pasos para clasificar datos.</li>
                                    <li><strong>Optimizaci√≥n:</strong> Comparar la eficiencia entre diferentes m√©todos de ordenaci√≥n.</li>
                                    <li><strong>Abstracci√≥n:</strong> Generalizar conceptos de comparaci√≥n e intercambio.</li>
                                    <li><strong>Patrones:</strong> Reconocer estructuras repetitivas en los procesos de ordenaci√≥n.</li>
                                </ul>
                            </div>
                            <!-- Diapositiva 2 -->
                            <div class="carousel-item-algoritmos w-full flex-shrink-0 bg-orange-100 p-8">
                                <h3 class="text-2xl font-bold text-amber-800 mb-4">Relaci√≥n con el Curr√≠culo (CLM)</h3>
                                <ul class="list-disc list-inside space-y-2 text-stone-700">
                                    <li><strong>√Årea de Matem√°ticas:</strong> Aplicaci√≥n de m√©todos de resoluci√≥n de problemas en situaciones cotidianas.</li>
                                    <li><strong>Saberes B√°sicos:</strong> Estrategias de c√°lculo y comparaci√≥n con n√∫meros naturales.</li>
                                    <li><strong>Integraci√≥n Transversal:</strong> Conecta los algoritmos inform√°ticos con el pensamiento l√≥gico-matem√°tico.</li>
                                </ul>
                            </div>
                        </div>
                        <button class="prev-algoritmos absolute top-1/2 left-2 transform -translate-y-1/2 bg-white/50 hover:bg-white/80 rounded-full p-2 transition"><span class="text-2xl">‚Äπ</span></button>
                        <button class="next-algoritmos absolute top-1/2 right-2 transform -translate-y-1/2 bg-white/50 hover:bg-white/80 rounded-full p-2 transition"><span class="text-2xl">‚Ä∫</span></button>
                    </div>
                </div>
            </details>
            
            <!-- Secci√≥n de Justificaci√≥n Pr√°ctica -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Justificaci√≥n Pr√°ctica: ¬øPor qu√© aprender esto?
                </summary>
                <div class="p-6 border-t border-orange-200 text-stone-700 space-y-3">
                    <p>Aunque parezca algo muy t√©cnico, ¬°los algoritmos de ordenaci√≥n est√°n por todas partes! Entender c√≥mo funcionan nos ayuda a comprender mejor el mundo digital que nos rodea.</p>
                    <ul class="list-disc list-inside space-y-2 pl-4">
                        <li><strong>En tu m√≥vil:</strong> Cuando buscas un contacto, tu tel√©fono lo encuentra r√°pidamente porque la lista est√° ordenada alfab√©ticamente.</li>
                        <li><strong>En los videojuegos:</strong> Las tablas de puntuaciones que te muestran qui√©n va en primer lugar usan algoritmos para ordenar a los jugadores.</li>
                        <li><strong>En las tiendas online:</strong> Cuando buscas un producto y lo ordenas por "precio m√°s bajo", la web est√° usando un algoritmo de ordenaci√≥n.</li>
                        <li><strong>En la m√∫sica:</strong> Tu aplicaci√≥n de m√∫sica puede ordenar tus canciones por artista, √°lbum o t√≠tulo. ¬°Eso tambi√©n es un algoritmo!</li>
                    </ul>
                    <p class="mt-4">Aprender sobre ellos es como descubrir los "trucos" secretos que hacen que la tecnolog√≠a funcione de manera tan r√°pida y eficiente.</p>
                </div>
            </details>


            <!-- Secci√≥n 3: Producto Final -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden" open>
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Producto Final
                </summary>
                <div class="p-6 border-t border-orange-200">
                    <div class="sorting-game-container max-w-4xl mx-auto bg-orange-200 border-4 border-amber-700 rounded-2xl p-6 shadow-xl">
                        <h1 class="text-3xl font-bold text-center text-amber-800 mb-4">üìä Algoritmos de Ordenaci√≥n</h1>
                        <div class="algorithm-selector flex justify-center flex-wrap gap-4 mb-4">
                            <button class="sorting-algorithm-btn active" data-algorithm="bubble">ü´ß Burbuja</button>
                            <button class="sorting-algorithm-btn" data-algorithm="selection">üëÜ Selecci√≥n</button>
                            <button class="sorting-algorithm-btn" data-algorithm="insertion">üìù Inserci√≥n</button>
                        </div>
                        <div class="sorting-area bg-orange-100 border-2 border-amber-600 rounded-lg p-4 min-h-[250px] flex justify-center items-end" id="sorting-dataContainer">
                            <!-- Barras generadas por JS -->
                        </div>
                        <div class="controls flex justify-center flex-wrap gap-4 mt-4">
                            <button id="sorting-startBtn" class="sorting-control-btn">‚ñ∂Ô∏è Iniciar</button>
                            <button id="sorting-randomBtn" class="sorting-control-btn">üé≤ Datos Aleatorios</button>
                            <button id="sorting-resetBtn" class="sorting-control-btn">üîÑ Reiniciar</button>
                        </div>
                        <div class="stats-panel grid grid-cols-2 md:grid-cols-4 gap-4 mt-4 text-center">
                            <div><h4 class="font-bold text-amber-900">Comparaciones</h4><p id="sorting-comparisons" class="text-xl">0</p></div>
                            <div><h4 class="font-bold text-amber-900">Intercambios</h4><p id="sorting-swaps" class="text-xl">0</p></div>
                        </div>
                         <div class="algorithm-info bg-amber-100 border-2 border-amber-600 rounded-lg p-4 mt-4" id="sorting-algorithmInfo">
                            <!-- Info generada por JS -->
                        </div>
                    </div>
                </div>
                 <div class="text-center mt-4 text-sm text-stone-600">
                    <p><strong>Pictogramas:</strong> ARASAAC (Sergio Palao) | <strong>Licencia:</strong> CC (BY-NC-SA)</p>
                </div>
            </details>
        </div>
        
        <!-- P√°gina del Trivial -->
        <div id="page-trivial" class="hidden">
            <p class="text-lg text-amber-900 italic mb-4 text-center">La resoluci√≥n de problemas es una competencia clave. Con este Trivial, generado con Vibe Coding, los docentes pueden presentar problemas complejos de distintas √°reas de una forma l√∫dica, guiando al alumnado en el proceso de descomposici√≥n y fomentando el pensamiento anal√≠tico.</p>
            
             <!-- Secci√≥n 1: El camino hasta el producto final -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    El camino hasta el producto final
                </summary>
                <div class="p-6 border-t border-orange-200">
                     <p class="mb-6 text-stone-700 text-center">A continuaci√≥n se muestra el flujo de trabajo seguido para la creaci√≥n de esta actividad.</p>
                    <div class="flex flex-col items-center space-y-4">
                        <!-- Nodo 1 -->
                        <div class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded-r-lg shadow-md w-full max-w-2xl">
                            <p class="font-bold">v6.0 - Creaci√≥n Inicial</p>
                            <p class="text-sm">Se genera el Trivial interactivo sobre descomposici√≥n de problemas, con su documentaci√≥n y l√≥gica, a partir de un prompt elaborado con la ayuda de <span class="font-semibold">Perplexity</span>.</p>
                        </div>
                         <div class="text-2xl font-bold text-green-400">‚Üì</div>
                        <!-- Nodo 2 -->
                        <div class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded-r-lg shadow-md w-full max-w-2xl">
                            <p class="font-bold">v6.1 - Simplificaci√≥n</p>
                            <p class="text-sm">Se elimina la selecci√≥n de equipos para una experiencia individual y se a√±ade un bot√≥n de pregunta aleatoria para agilizar el juego.</p>
                        </div>
                         <div class="text-2xl font-bold text-green-400">‚Üì</div>
                        <!-- Nodo 3 -->
                        <div class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded-r-lg shadow-md w-full max-w-2xl">
                            <p class="font-bold">v6.2 - Redise√±o y Expansi√≥n</p>
                            <p class="text-sm">Se transforma el juego a un formato de tablero con dado y "quesitos". Se expande el banco de preguntas a 50, enfocadas en 5¬∫ y 6¬∫ de Primaria.</p>
                        </div>
                    </div>
                </div>
            </details>

             <!-- Secci√≥n 2: Relaci√≥n con PC y curr√≠culo -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Relaci√≥n con Pensamiento Computacional y Curr√≠culo
                </summary>
                <div class="p-6 border-t border-orange-200">
                     <div id="carousel-trivial" class="relative overflow-hidden rounded-lg shadow-lg">
                        <div class="carousel-inner-trivial flex transition-transform duration-500">
                            <!-- Diapositiva 1 -->
                            <div class="carousel-item-trivial w-full flex-shrink-0 bg-orange-100 p-8">
                                <h3 class="text-2xl font-bold text-amber-800 mb-4">Pensamiento Computacional Aplicado</h3>
                                <ul class="list-disc list-inside space-y-2 text-stone-700">
                                    <li><strong>Descomposici√≥n:</strong> Es el eje central del juego, ense√±ando a dividir problemas grandes en partes peque√±as.</li>
                                    <li><strong>Algoritmos:</strong> Cada conjunto de pasos para resolver un problema es un algoritmo.</li>
                                    <li><strong>Abstracci√≥n y Patrones:</strong> Los jugadores aprenden a identificar la informaci√≥n clave y a reconocer estructuras similares en diferentes problemas.</li>
                                </ul>
                            </div>
                            <!-- Diapositiva 2 -->
                            <div class="carousel-item-trivial w-full flex-shrink-0 bg-orange-100 p-8">
                                <h3 class="text-2xl font-bold text-amber-800 mb-4">Relaci√≥n con el Curr√≠culo (CLM)</h3>
                                <ul class="list-disc list-inside space-y-2 text-stone-700">
                                    <li><strong>Transversalidad:</strong> La actividad integra problemas de Lengua, Matem√°ticas y Conocimiento del Medio.</li>
                                    <li><strong>Competencias Clave:</strong> Se trabajan la interpretaci√≥n de textos, la resoluci√≥n de problemas y la participaci√≥n social.</li>
                                    <li><strong>Art√≠culo 16:</strong> Se aplica el pensamiento computacional de forma transversal, como indica el decreto.</li>
                                </ul>
                            </div>
                        </div>
                        <button class="prev-trivial absolute top-1/2 left-2 transform -translate-y-1/2 bg-white/50 hover:bg-white/80 rounded-full p-2 transition"><span class="text-2xl">‚Äπ</span></button>
                        <button class="next-trivial absolute top-1/2 right-2 transform -translate-y-1/2 bg-white/50 hover:bg-white/80 rounded-full p-2 transition"><span class="text-2xl">‚Ä∫</span></button>
                    </div>
                </div>
            </details>
            
            <!-- Secci√≥n de Justificaci√≥n Pr√°ctica -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Justificaci√≥n Pr√°ctica: ¬øPor qu√© aprender esto?
                </summary>
                <div class="p-6 border-t border-orange-200 text-stone-700 space-y-3">
                    <p>La "descomposici√≥n" suena complicada, pero es algo que hacemos todos los d√≠as para no agobiarnos con tareas grandes. Consiste simplemente en dividir un gran problema en partes m√°s peque√±as y manejables.</p>
                    <ul class="list-disc list-inside space-y-2 pl-4">
                        <li><strong>Organizar una fiesta:</strong> En lugar de pensar en "organizar una fiesta", lo divides en: hacer la lista de invitados, enviar invitaciones, comprar la comida, preparar la m√∫sica...</li>
                        <li><strong>Hacer los deberes:</strong> No piensas en "hacer todos los deberes", sino que lo divides por asignaturas: primero matem√°ticas, luego lengua, etc.</li>
                        <li><strong>Limpiar tu habitaci√≥n:</strong> Es m√°s f√°cil si lo divides en tareas: hacer la cama, recoger la ropa, ordenar los juguetes y barrer el suelo.</li>
                    </ul>
                    <p class="mt-4">Este trivial nos entrena para abordar cualquier reto, por grande que parezca, de una forma m√°s ordenada y con menos estr√©s.</p>
                </div>
            </details>

            <!-- Secci√≥n 3: Producto Final -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden" open>
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Producto Final
                </summary>
                 <div class="p-6 border-t border-orange-200">
                    <div class="trivial-game-container max-w-5xl mx-auto bg-orange-200 border-4 border-amber-700 rounded-2xl p-6 shadow-xl">
                        <h1 class="text-3xl font-bold text-center text-amber-800 mb-4">üß© Trivial de Descomposici√≥n</h1>
                        <div class="flex flex-col md:flex-row gap-6">
                            <!-- Columna Izquierda: Ruleta y Controles -->
                            <div class="flex-grow flex flex-col items-center">
                                <div class="relative w-80 h-80 mb-4">
                                    <div id="trivial-roulette" class="w-full h-full rounded-full border-8 border-amber-700 shadow-lg transition-transform duration-[4000ms] ease-out">
                                        <!-- Los sectores se generan con JS -->
                                    </div>
                                    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-full w-0 h-0 border-l-8 border-r-8 border-b-16 border-l-transparent border-r-transparent border-b-red-600"></div>
                                </div>
                                <button id="trivial-spin-btn" class="trivial-control-btn">üé° Girar Ruleta</button>
                                <button id="trivial-restart-btn" class="trivial-control-btn bg-red-700 hover:bg-red-800 mt-4">üîÑ Reiniciar Partida</button>
                            </div>
                            <!-- Columna Derecha: Equipos y Preguntas -->
                            <div id="trivial-panel-right" class="w-full md:w-2/5 bg-orange-100 p-4 rounded-lg shadow-inner">
                                <!-- Info de equipos -->
                                <div id="trivial-teams-info" class="mb-4">
                                    <h3 class="font-bold text-lg text-center text-amber-800 mb-2">Puntuaci√≥n</h3>
                                    <div class="flex justify-around gap-4">
                                        <div id="trivial-team-1" class="text-center p-2 rounded-lg border-2 border-transparent">
                                            <div class="font-bold">Equipo 1</div>
                                            <div class="flex gap-1 mt-1 justify-center"></div>
                                        </div>
                                        <div id="trivial-team-2" class="text-center p-2 rounded-lg border-2 border-transparent">
                                            <div class="font-bold">Equipo 2</div>
                                            <div class="flex gap-1 mt-1 justify-center"></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div id="trivial-question-area" class="hidden">
                                   <h3 id="trivial-category-title" class="text-xl font-bold text-center mb-2"></h3>
                                   <p id="trivial-question-text" class="font-semibold text-amber-900 mb-4"></p>
                                   <div id="trivial-answer-options" class="grid grid-cols-1 gap-2"></div>
                                   <div id="trivial-feedback-area" class="mt-4 p-3 rounded-lg bg-amber-200 hidden"></div>
                                   <button id="trivial-continue-btn" class="trivial-control-btn mx-auto mt-4 hidden">‚û°Ô∏è Continuar</button>
                                </div>
                                <div id="trivial-welcome-message" class="text-center text-amber-800">
                                    <h3 class="font-bold text-lg">¬°Bienvenido al Trivial!</h3>
                                    <p>Turno del <span id="trivial-current-turn" class="font-bold">Equipo 1</span>. ¬°Gira la ruleta!</p>
                                </div>
                            </div>
                        </div>

                         <div id="trivial-win-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50">
                            <div class="bg-white p-8 rounded-lg shadow-xl text-center">
                                <h2 class="text-2xl font-bold text-amber-700 mb-2">üèÜ ¬°Enhorabuena! üèÜ</h2>
                                <p id="trivial-winner-text" class="mb-4"></p>
                                <button id="trivial-play-again-btn" class="mt-4 bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-full">Jugar otra vez</button>
                            </div>
                        </div>
                    </div>
                 </div>
                 <div class="text-center mt-4 text-sm text-stone-600">
                    <p><strong>Pictogramas:</strong> ARASAAC (Sergio Palao) | <strong>Licencia:</strong> CC (BY-NC-SA)</p>
                </div>
            </details>
        </div>

        <!-- P√°gina de Redes -->
        <div id="page-redes" class="hidden">
            <p class="text-lg text-amber-900 italic mb-4 text-center">El funcionamiento de Internet puede parecer magia. Este simulador, creado con Vibe Coding, desmitifica las redes de comunicaci√≥n, permitiendo al alumnado de secundaria construir, simular y analizar topolog√≠as de red, conectando conceptos abstractos con la infraestructura digital que usan a diario.</p>

            <!-- Secci√≥n 1: El camino hasta el producto final -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    El camino hasta el producto final
                </summary>
                <div class="p-6 border-t border-orange-200">
                     <p class="mb-6 text-stone-700 text-center">A continuaci√≥n se muestra el flujo de trabajo seguido para la creaci√≥n de esta actividad.</p>
                    <div class="flex flex-col items-center space-y-4">
                        <!-- Nodo 1 -->
                        <div class="bg-purple-100 border-l-4 border-purple-500 text-purple-700 p-4 rounded-r-lg shadow-md w-full max-w-2xl">
                            <p class="font-bold">v6.3 - Creaci√≥n a partir de Prompt Detallado</p>
                            <p class="text-sm">Se genera el simulador de redes de comunicaci√≥n, con su documentaci√≥n curricular y l√≥gica, a partir de un prompt elaborado con la ayuda de <span class="font-semibold">Perplexity</span>.</p>
                        </div>
                         <div class="text-2xl font-bold text-purple-400">‚Üì</div>
                        <!-- Nodo 2 -->
                        <div class="bg-purple-100 border-l-4 border-purple-500 text-purple-700 p-4 rounded-r-lg shadow-md w-full max-w-2xl">
                            <p class="font-bold">Ajustes y Adaptaci√≥n Visual</p>
                            <p class="text-sm">Se integra la actividad en una nueva pesta√±a, se adapta la paleta de colores a la est√©tica "oto√±o c√°lido" y se reemplazan los marcadores de imagen por emojis funcionales.</p>
                        </div>
                    </div>
                </div>
            </details>

             <!-- Secci√≥n 2: Relaci√≥n con PC y curr√≠culo -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Relaci√≥n con Pensamiento Computacional y Curr√≠culo
                </summary>
                <div class="p-6 border-t border-orange-200">
                     <div id="carousel-redes" class="relative overflow-hidden rounded-lg shadow-lg">
                        <div class="carousel-inner-redes flex transition-transform duration-500">
                            <!-- Diapositiva 1 -->
                            <div class="carousel-item-redes w-full flex-shrink-0 bg-orange-100 p-8">
                                <h3 class="text-2xl font-bold text-amber-800 mb-4">Pensamiento Computacional Avanzado</h3>
                                <ul class="list-disc list-inside space-y-2 text-stone-700">
                                    <li><strong>Algoritmos de Grafos:</strong> Comprensi√≥n de rutas √≥ptimas y algoritmos de enrutamiento.</li>
                                    <li><strong>Abstracci√≥n de Redes:</strong> Modelado de sistemas complejos mediante nodos y conexiones.</li>
                                    <li><strong>Optimizaci√≥n:</strong> An√°lisis de eficiencia, latencia y ancho de banda.</li>
                                    <li><strong>Debugging de Sistemas:</strong> Identificaci√≥n y resoluci√≥n de fallos en arquitecturas de red.</li>
                                </ul>
                            </div>
                            <!-- Diapositiva 2 -->
                            <div class="carousel-item-redes w-full flex-shrink-0 bg-orange-100 p-8">
                                <h3 class="text-2xl font-bold text-amber-800 mb-4">Relaci√≥n con el Curr√≠culo (CLM)</h3>
                                <ul class="list-disc list-inside space-y-2 text-stone-700">
                                    <li><strong>Materia de Tecnolog√≠a y Digitalizaci√≥n:</strong> Se trabaja la competencia espec√≠fica 6 sobre el funcionamiento de dispositivos y aplicaciones.</li>
                                    <li><strong>Saberes B√°sicos:</strong> Aborda la "Digitalizaci√≥n del entorno personal de aprendizaje".</li>
                                    <li><strong>Pensamiento Computacional:</strong> Se aplica a la resoluci√≥n de problemas tecnol√≥gicos, como indica el art√≠culo 27.</li>
                                </ul>
                            </div>
                        </div>
                        <button class="prev-redes absolute top-1/2 left-2 transform -translate-y-1/2 bg-white/50 hover:bg-white/80 rounded-full p-2 transition"><span class="text-2xl">‚Äπ</span></button>
                        <button class="next-redes absolute top-1/2 right-2 transform -translate-y-1/2 bg-white/50 hover:bg-white/80 rounded-full p-2 transition"><span class="text-2xl">‚Ä∫</span></button>
                    </div>
                </div>
            </details>

            <!-- Secci√≥n de Justificaci√≥n Pr√°ctica -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Justificaci√≥n Pr√°ctica: ¬øPor qu√© aprender esto?
                </summary>
                <div class="p-6 border-t border-orange-200 text-stone-700 space-y-3">
                    <p>Las redes de comunicaci√≥n son la columna vertebral del mundo moderno. Entender sus bases nos ayuda a comprender c√≥mo funciona casi todo lo que hacemos online.</p>
                    <ul class="list-disc list-inside space-y-2 pl-4">
                        <li><strong>¬øPor qu√© mi videojuego tiene 'lag'?:</strong> La latencia y el ancho de banda que ves en el simulador son las causas. Entenderlo te ayuda a saber si el problema es tu WiFi, tu router o el servidor del juego.</li>
                        <li><strong>Enviar un WhatsApp:</strong> Tu mensaje viaja en "paquetes de datos" a trav√©s de m√∫ltiples nodos (routers, servidores) hasta llegar a su destino. Este simulador te muestra ese viaje.</li>
                        <li><strong>Cuando se cae una web:</strong> Puede que un servidor haya fallado o que una conexi√≥n est√© rota. Simular estos fallos te ayuda a entender la importancia de tener redes con m√∫ltiples caminos (redundancia).</li>
                        <li><strong>La 'nube':</strong> No es una nube real, sino una red de servidores interconectados por todo el mundo donde guardamos nuestras fotos y archivos.</li>
                    </ul>
                    <p class="mt-4">Este simulador convierte conceptos invisibles como 'paquete de datos' o 'ruta de red' en algo visual y tangible, d√°ndote el poder de entender y solucionar problemas tecnol√≥gicos cotidianos.</p>
                </div>
            </details>

            <!-- Secci√≥n 3: Producto Final -->
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden" open>
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Producto Final
                </summary>
                 <div class="p-6 border-t border-orange-200">
                     <div class="network-simulator-container max-w-7xl mx-auto bg-orange-200 border-4 border-amber-700 rounded-2xl p-6 shadow-xl">
                        <h1 class="text-3xl font-bold text-center text-amber-800 mb-4">üåê Simulador de Redes</h1>
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                            <!-- Columna 1: Controles -->
                            <div class="col-span-1 bg-orange-100 p-4 rounded-lg">
                                <h3 class="font-bold text-amber-800 mb-2">Dispositivos</h3>
                                <div class="grid grid-cols-2 gap-2 mb-4">
                                    <div class="network-device-item" draggable="true" data-type="computer">üíª<br>PC</div>
                                    <div class="network-device-item" draggable="true" data-type="server">üñ•Ô∏è<br>Servidor</div>
                                    <div class="network-device-item" draggable="true" data-type="router">üì°<br>Router</div>
                                    <div class="network-device-item" draggable="true" data-type="switch">üîå<br>Switch</div>
                                </div>
                                <h3 class="font-bold text-amber-800 mb-2">Simulaci√≥n</h3>
                                <div class="flex flex-col gap-2">
                                     <button id="network-sendDataBtn" class="network-control-btn">üì§ Enviar Datos</button>
                                     <button id="network-analyzePathBtn" class="network-control-btn">üîç Analizar Ruta</button>
                                     <button id="network-clearNetworkBtn" class="network-control-btn bg-red-700 hover:bg-red-800">üóëÔ∏è Limpiar</button>
                                </div>
                            </div>
                            <!-- Columna 2: Canvas -->
                            <div class="col-span-1 md:col-span-2 bg-white rounded-lg shadow-inner relative" id="network-canvas">
                                <!-- Nodos y conexiones aqui -->
                            </div>
                            <!-- Columna 3: Stats -->
                            <div class="col-span-1 bg-orange-100 p-4 rounded-lg">
                                <h3 class="font-bold text-amber-800 mb-2">M√©tricas</h3>
                                <div class="grid grid-cols-2 gap-2 mb-4">
                                    <div class="text-center"><div id="network-latencyValue" class="font-bold text-xl">0ms</div><div class="text-xs">Latencia</div></div>
                                    <div class="text-center"><div id="network-packetsValue" class="font-bold text-xl">0</div><div class="text-xs">Paquetes</div></div>
                                </div>
                                <h3 class="font-bold text-amber-800 mb-2">Log de Transmisi√≥n</h3>
                                <div id="network-transmissionLog" class="bg-gray-800 text-green-400 font-mono text-xs rounded p-2 h-48 overflow-y-auto"></div>
                            </div>
                        </div>
                    </div>
                 </div>
            </details>
        </div>


        <!-- P√°gina de Enlaces -->
        <div id="page-enlaces" class="hidden">
            <p class="text-lg text-amber-900 italic mb-4 text-center">Explorar y aprender de la comunidad es clave. Aqu√≠ tienes una selecci√≥n de recursos y enlaces para seguir profundizando en el mundo de Vibe Coding y la creaci√≥n de contenido educativo.</p>
            <h2 class="text-3xl font-bold text-center mb-6 text-amber-800">Enlaces de Inter√©s</h2>
            <div class="max-w-2xl mx-auto bg-white rounded-lg shadow-md p-6">
                <ul class="space-y-4">
                    <li>
                        <a href="https://t.me/vceduca" target="_blank" class="flex items-center p-4 bg-orange-100 rounded-lg hover:bg-orange-200 transition">
                            <span class="text-2xl mr-4">‚û°Ô∏è</span>
                            <span class="text-amber-800 font-semibold">Grupo de Telegram de Vibe Coding</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://vibe-coding-educativo.github.io/app_edu/" target="_blank" class="flex items-center p-4 bg-orange-100 rounded-lg hover:bg-orange-200 transition">
                            <span class="text-2xl mr-4">‚û°Ô∏è</span>
                            <span class="text-amber-800 font-semibold">Repositorio del grupo de Telegram</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://educacion.bilateria.org/category/vibe-coding" target="_blank" class="flex items-center p-4 bg-orange-100 rounded-lg hover:bg-orange-200 transition">
                            <span class="text-2xl mr-4">‚û°Ô∏è</span>
                            <span class="text-amber-800 font-semibold">Art√≠culos sobre Vibe Coding</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>


        <!-- P√°gina de Consejos -->
        <div id="page-tips" class="hidden">
            <p class="text-lg text-amber-900 italic mb-4 text-center">Detr√°s de cada recurso digital hay peque√±as decisiones t√©cnicas. En esta secci√≥n compartimos algunos consejos y buenas pr√°cticas que hemos seguido durante la creaci√≥n de este proyecto, para que puedas aplicarlos en tus propias creaciones con Vibe Coding.</p>
            <h2 class="text-3xl font-bold text-center mb-6 text-amber-800">Consejos de Creaci√≥n</h2>
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Alojamiento de Im√°genes
                </summary>
                <div class="p-6 border-t border-orange-200 text-stone-700 space-y-3">
                    <p>Para que las im√°genes de tus actividades funcionen correctamente, necesitan estar alojadas en internet y tener una URL directa.</p>
                    <p><strong>¬øPor qu√© es importante?</strong> Cuando le pides a Vibe Coding que use una imagen, no puede acceder a los archivos de tu ordenador. Necesita una direcci√≥n web (URL) para encontrarla y mostrarla.</p>
                    <p><strong>Herramientas recomendadas:</strong> Existen servicios gratuitos como <a href="https://postimages.org/" target="_blank" class="text-orange-600 hover:underline font-semibold">Postimages</a>. Te permiten subir una imagen desde tu equipo y te proporcionan una "URL directa" que puedes copiar y pegar en tus prompts.</p>
                    <p class="bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-4 rounded-r-lg"><strong>Ejemplo de prompt:</strong> "Crea una tarjeta con la imagen <span class="font-mono bg-orange-200 px-1 rounded">https://i.postimg.cc/mgy9hDHf/vaso-de-agua.png</span> y el texto 'Vaso Lleno'".</p>
                </div>
            </details>
             <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Aprende del Proceso
                </summary>
                <div class="p-6 border-t border-orange-200 text-stone-700 space-y-3">
                    <p>Cada interacci√≥n es una oportunidad de aprendizaje. Vibe Coding no solo crea el producto final, sino que tambi√©n genera el c√≥digo que lo hace funcionar.</p>
                     <ul class="list-disc list-inside space-y-2 pl-4">
                        <li><strong>Observa el c√≥digo:</strong> Aunque no sepas programar, puedes empezar a identificar patrones. F√≠jate en c√≥mo un cambio en tu prompt se traduce en el c√≥digo HTML, CSS o JavaScript.</li>
                        <li><strong>Analiza los prompts:</strong> Revisa el "Changelog" y los diagramas de flujo. Ver los prompts que se usaron te dar√° ideas sobre c√≥mo formular tus propias peticiones de manera m√°s efectiva.</li>
                        <li><strong>Experimenta:</strong> No tengas miedo de pedir cosas "raras" o muy espec√≠ficas. Ver c√≥mo responde la IA te ayudar√° a entender mejor sus capacidades y limitaciones.</li>
                    </ul>
                </div>
            </details>
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Crea tu propio estilo
                </summary>
                <div class="p-6 border-t border-orange-200 text-stone-700 space-y-3">
                    <p>Una de las grandes ventajas de trabajar con Vibe Coding es la facilidad para personalizar el dise√±o. No necesitas saber de CSS para cambiar la apariencia de tus actividades. Simplemente, p√≠delo con un prompt.</p>
                    <p><strong>¬øQu√© puedes cambiar?</strong> Pr√°cticamente todo. Puedes pedir un cambio general o un detalle muy espec√≠fico.</p>
                     <ul class="list-disc list-inside space-y-2 pl-4">
                        <li><strong>Paleta de colores:</strong> Prueba a pedir tem√°ticas. Por ejemplo, "Usa una paleta de colores 'primavera' con tonos pastel" o "Cambia el dise√±o a un estilo 'espacial' con fondos oscuros y letras brillantes".</li>
                        <li><strong>Fuentes:</strong> ¬øPrefieres otro tipo de letra? "Usa una fuente como 'Comic Sans MS' (aunque muchos opinen que es para gente sin alma)" o "Cambia a una fuente elegante como 'Georgia'".</li>
                        <li><strong>Formas y bordes:</strong> Puedes ajustar los detalles. "Haz que todos los botones sean completamente redondos" o "A√±ade un borde m√°s grueso y de color rojo a las tarjetas del memory".</li>
                    </ul>
                    <p class="bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-4 rounded-r-lg"><strong>Ejemplo de prompt:</strong> "Aplica una paleta de colores 'oto√±o c√°lido' a toda la p√°gina, con tonos cremas, calabazas y caf√©s."</p>
                </div>
            </details>
            <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    Itera
                </summary>
                <div class="p-6 border-t border-orange-200 text-stone-700 space-y-3">
                    <p>No intentes conseguir el producto perfecto en el primer intento. La creaci√≥n de contenido con IA es un proceso de di√°logo y refinamiento.</p>
                    <p><strong>Empieza simple y construye sobre ello:</strong></p>
                     <ul class="list-disc list-inside space-y-2 pl-4">
                        <li>Pide primero la estructura b√°sica de tu actividad.</li>
                        <li>Luego, en un nuevo prompt, pide que a√±ada una funcionalidad espec√≠fica (como un temporizador o un sistema de puntos).</li>
                        <li>Despu√©s, solicita cambios de estilo o la adici√≥n de nuevo contenido.</li>
                    </ul>
                    <p>Este enfoque, que puedes ver en el diagrama de flujo del "Juego de Secuencias", te permite tener control sobre el proceso y corregir el rumbo f√°cilmente si algo no sale como esperabas.</p>
                </div>
            </details>
             <details class="bg-white rounded-lg shadow-md mb-4 overflow-hidden">
                <summary class="px-6 py-4 text-xl font-bold text-amber-800 cursor-pointer hover:bg-orange-50">
                    ¬°T√∫ mandas, t√∫ controlas!
                </summary>
                <div class="p-6 border-t border-orange-200 text-stone-700 space-y-3">
                    <p>Recuerda que Vibe Coding es una herramienta a tu servicio. El resultado final depende directamente de la calidad y la claridad de tus instrucciones.</p>
                     <ul class="list-disc list-inside space-y-2 pl-4">
                        <li><strong>S√© espec√≠fico:</strong> En lugar de "hazlo m√°s bonito", prueba con "usa un borde redondeado y una sombra suave en los botones".</li>
                        <li><strong>Proporciona contexto:</strong> Explica para qui√©n es la actividad (ej: "para ni√±os de 3 a√±os") y cu√°l es su objetivo. Esto ayuda a la IA a tomar mejores decisiones de dise√±o y funcionalidad.</li>
                        <li><strong>Da ejemplos:</strong> Si tienes una idea clara, ¬°mu√©strasela! Puedes incluir enlaces a im√°genes o describir una web que te guste como inspiraci√≥n.</li>
                    </ul>
                </div>
            </details>
        </div>

    </main>

    <!-- Pie de p√°gina -->
    <footer class="bg-orange-200 mt-12 py-6 text-center text-amber-900">
        <p>Creado por <strong class="text-amber-800">Luc√≠a Serrano Palomo</strong> con la asistencia de <em>Vibe Coding</em></p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // L√≥gica de navegaci√≥n principal
            const pages = document.querySelectorAll('main > div');
            const navButtons = document.querySelectorAll('.nav-button');
            const passwordModal = document.getElementById('password-modal');
            const mainHeader = document.getElementById('main-header');
            const mainContent = document.querySelector('main');
            const submitPasswordBtn = document.getElementById('submit-password');

            function showPage(pageId) {
                pages.forEach(page => {
                    page.classList.toggle('hidden', page.id !== `page-${pageId}`);
                });
                navButtons.forEach(button => {
                    button.classList.toggle('bg-orange-600', button.dataset.page === pageId);
                     button.classList.toggle('bg-orange-400', button.dataset.page !== pageId);
                });
            }

            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    showPage(button.dataset.page);
                });
            });

            // L√≥gica de contrase√±a
            submitPasswordBtn.addEventListener('click', () => {
                const pass1 = document.getElementById('pass1').value.toLowerCase().trim();
                const pass2 = document.getElementById('pass2').value.toLowerCase().trim();
                const errorMsg = document.getElementById('password-error');

                if (pass1 === 'patos' && pass2 === 'cerditos') {
                    passwordModal.classList.add('hidden');
                    mainHeader.classList.remove('hidden');
                    mainContent.classList.remove('hidden');
                    showPage('changelog'); // Mostrar la p√°gina de Changelog por defecto al entrar
                } else {
                    errorMsg.classList.remove('hidden');
                }
            });


            // --- L√≥gica del Juego de Secuencias ---
            const gamePage = document.getElementById('page-game');
            if (gamePage) {
                const levels = {
                    1: {
                        title: "Nivel 1: Tengo sed",
                        items: [
                            { id: 1, img: "https://i.postimg.cc/mgy9hDHf/vaso-de-agua.png" },
                            { id: 2, img: "https://i.postimg.cc/vZtnDBVw/beber.png" },
                            { id: 3, img: "https://i.postimg.cc/MKRV2tZH/vaso.png" }
                        ]
                    },
                    2: {
                        title: "Nivel 2: ¬°Fuego!",
                        items: [
                            { id: 1, img: "https://i.postimg.cc/G24wH495/incendio.png" },
                            { id: 2, img: "https://i.postimg.cc/nzXbCXMS/llamar-al-112.png" },
                            { id: 3, img: "https://i.postimg.cc/B6j9XjtM/cami-n-de-bomberos.png" },
                            { id: 4, img: "https://i.postimg.cc/bJZcsZdF/bombero.png" }
                        ]
                    },
                    3: {
                        title: "Nivel 3: Un martes m√°s",
                        items: [
                            { id: 1, img: "https://i.postimg.cc/634WFjVq/despertar.png" },
                            { id: 2, img: "https://i.postimg.cc/85fpxKd5/vestir.png" },
                            { id: 3, img: "https://i.postimg.cc/50Q4D752/desayunar.png" },
                            { id: 4, img: "https://i.postimg.cc/Y9LrTnNS/ir-al-colegio.png" },
                            { id: 5, img: "https://i.postimg.cc/3R08zSjJ/estudiar.png" }
                        ]
                    }
                };

                let currentLevel = 1;
                const dropContainer = document.getElementById('drop-container');
                const dragContainer = document.getElementById('drag-container');
                const levelTitle = document.getElementById('level-title');
                const nextLevelModal = document.getElementById('next-level-modal');
                const nextLevelBtn = document.getElementById('next-level-btn');
                const closeModalBtn = document.getElementById('close-modal-btn');
                const modalMessage = document.getElementById('modal-message');
                const finalCup = document.getElementById('final-cup');

                let audioContext;
                
                function initAudio() {
                    if (!audioContext) {
                        try {
                            audioContext = new (window.AudioContext || window.webkitAudioContext)();
                        } catch (e) {
                            console.error("Web Audio API is not supported in this browser");
                        }
                    }
                }
                
                function playSound(type) {
                    if (!audioContext) return;
                    
                    if (audioContext.state === 'suspended') {
                        audioContext.resume();
                    }

                    if (type === 'applause') {
                        const oscillator = audioContext.createOscillator();
                        const gainNode = audioContext.createGain();
                        oscillator.connect(gainNode);
                        gainNode.connect(audioContext.destination);

                        oscillator.type = 'sawtooth';
                        gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                        
                        for(let i = 0; i < 20; i++) {
                            const freq = 400 + Math.random() * 800;
                            oscillator.frequency.setValueAtTime(freq, audioContext.currentTime + i * 0.05);
                            gainNode.gain.exponentialRampToValueAtTime(0.00001, audioContext.currentTime + i * 0.05 + 0.04);
                        }
                        oscillator.start(audioContext.currentTime);
                        oscillator.stop(audioContext.currentTime + 1);
                    }
                }

                function loadLevel(level) {
                    currentLevel = level;
                    levelTitle.textContent = levels[level].title;
                    dropContainer.innerHTML = '';
                    dragContainer.innerHTML = '';

                    const levelItems = [...levels[level].items];
                    
                    for (let i = 0; i < levelItems.length; i++) {
                        const dropZone = document.createElement('div');
                        dropZone.className = 'w-24 h-24 bg-white rounded-lg border-2 border-dashed border-gray-400 flex items-center justify-center';
                        dropZone.dataset.id = i + 1;
                        dropContainer.appendChild(dropZone);
                    }

                    levelItems.sort(() => Math.random() - 0.5);
                    levelItems.forEach(item => {
                        const dragItem = document.createElement('img');
                        dragItem.src = item.img;
                        dragItem.className = 'w-24 h-24 rounded-lg cursor-pointer shadow-md';
                        dragItem.draggable = true;
                        dragItem.dataset.id = item.id;
                        dragContainer.appendChild(dragItem);
                    });
                    
                    addDragListeners();
                }

                function addDragListeners() {
                     document.querySelectorAll('#drag-container img').forEach(item => {
                        item.addEventListener('dragstart', handleDragStart);
                    });

                    document.querySelectorAll('#drop-container div').forEach(zone => {
                        zone.addEventListener('dragover', handleDragOver);
                        zone.addEventListener('drop', handleDrop);
                    });
                }

                function handleDragStart(e) {
                    e.dataTransfer.setData('text/plain', e.target.dataset.id);
                }

                function handleDragOver(e) {
                    e.preventDefault();
                }

                function handleDrop(e) {
                    e.preventDefault();
                    const id = e.dataTransfer.getData('text/plain');
                    const draggableElement = document.querySelector(`#drag-container [data-id='${id}']`);
                    const dropZone = e.currentTarget;

                    if (draggableElement && !dropZone.querySelector('img')) {
                        dropZone.appendChild(draggableElement);
                        checkSequence();
                    }
                }

                function checkSequence() {
                    const droppedItems = dropContainer.querySelectorAll('img');
                    if (droppedItems.length !== levels[currentLevel].items.length) return;

                    const isCorrect = Array.from(droppedItems).every((item, index) => {
                        return parseInt(item.dataset.id) === (index + 1);
                    });

                    if (isCorrect) {
                        initAudio();
                        playSound('applause');
                        if (currentLevel < 3) {
                            modalMessage.textContent = '¬°Muy bien! ¬°Secuencia correcta!';
                            nextLevelBtn.textContent = 'Siguiente Nivel';
                            nextLevelBtn.style.display = 'inline-block';
                            finalCup.style.display = 'none';
                        } else {
                            modalMessage.textContent = '¬°Felicidades! ¬°Has completado todos los niveles!';
                            nextLevelBtn.style.display = 'none';
                            finalCup.style.display = 'block';
                        }
                        nextLevelModal.classList.remove('hidden');
                    } else {
                         setTimeout(() => {
                            alert('Secuencia incorrecta. ¬°Int√©ntalo de nuevo!');
                            loadLevel(currentLevel);
                        }, 200);
                    }
                }
                
                document.querySelectorAll('.level-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const level = parseInt(e.target.id.replace('level', ''));
                        loadLevel(level);
                    });
                });

                nextLevelBtn.addEventListener('click', () => {
                    nextLevelModal.classList.add('hidden');
                    if (currentLevel < 3) {
                        loadLevel(currentLevel + 1);
                    }
                });

                closeModalBtn.addEventListener('click', () => {
                    nextLevelModal.classList.add('hidden');
                });

                loadLevel(1);
            }

             // --- L√≥gica del Carousel ---
            function setupCarousel(carouselId) {
                const carousel = document.getElementById(carouselId);
                if (!carousel) return;

                const inner = carousel.querySelector(`.carousel-inner-${carouselId.split('-')[1]}`);
                const items = carousel.querySelectorAll(`.carousel-item-${carouselId.split('-')[1]}`);
                const prevBtn = carousel.querySelector(`.prev-${carouselId.split('-')[1]}`);
                const nextBtn = carousel.querySelector(`.next-${carouselId.split('-')[1]}`);
                let currentIndex = 0;

                function updateCarousel() {
                    if(inner) inner.style.transform = `translateX(${-currentIndex * 100}%)`;
                }

                if(prevBtn) prevBtn.addEventListener('click', () => {
                    currentIndex = (currentIndex > 0) ? currentIndex - 1 : items.length - 1;
                    updateCarousel();
                });

                if(nextBtn) nextBtn.addEventListener('click', () => {
                    currentIndex = (currentIndex < items.length - 1) ? currentIndex + 1 : 0;
                    updateCarousel();
                });
            }

            setupCarousel('carousel-secuencia');
            setupCarousel('carousel-memory');
            setupCarousel('carousel-codyroby');
            setupCarousel('carousel-algoritmos');
            setupCarousel('carousel-trivial');


            // --- L√≥gica del Memory ---
            if(document.getElementById('page-memory')){
                class MemoryGame {
                    constructor() {
                        this.symbols = ['üê±', 'üê∂', 'üê∞', 'ü¶Ü', 'üê∏', 'üêù', 'ü¶ã', 'üê†', 'üå∏', 'üåü', 'üéà', 'üé®'];
                        this.currentLevel = 'easy';
                        this.levelConfig = { easy: 6, medium: 8, hard: 10 };
                        this.cards = [];
                        this.flippedCards = [];
                        this.matchedPairs = 0;
                        this.attempts = 0;
                        this.timer = null;
                        this.init();
                    }
                    init() {
                        this.bindEvents();
                        this.createGame();
                    }
                    createGame() {
                        const pairsCount = this.levelConfig[this.currentLevel];
                        this.cards = [];
                        for (let i = 0; i < pairsCount; i++) {
                            this.cards.push(this.symbols[i], this.symbols[i]);
                        }
                        this.shuffleCards();
                        this.renderCards();
                        this.updateStats();
                    }
                    shuffleCards() {
                        this.cards.sort(() => Math.random() - 0.5);
                    }
                    renderCards() {
                        const gameBoard = document.getElementById('memory-gameBoard');
                        const pairsCount = this.levelConfig[this.currentLevel];
                        gameBoard.className = `memory-board grid gap-3 mx-auto board-${this.currentLevel}`;
                        gameBoard.innerHTML = '';
                         gameBoard.style.gridTemplateColumns = `repeat(${this.currentLevel === 'easy' ? 3 : 4}, 1fr)`;

                        this.cards.forEach((symbol) => {
                            const card = document.createElement('div');
                            card.className = 'memory-card w-24 h-24 rounded-lg cursor-pointer flex items-center justify-center text-4xl shadow-md bg-orange-400 text-white';
                            card.dataset.symbol = symbol;
                            card.innerHTML = '‚ùì';
                            gameBoard.appendChild(card);
                        });
                        document.getElementById('memory-pairs').textContent = `0/${pairsCount}`;
                    }
                    bindEvents() {
                        document.getElementById('memory-gameBoard').addEventListener('click', (e) => {
                            if (e.target.classList.contains('memory-card')) {
                                this.handleCardClick(e.target);
                            }
                        });
                        document.querySelectorAll('.memory-difficulty-btn').forEach(btn => {
                            btn.addEventListener('click', () => this.changeDifficulty(btn.dataset.level));
                        });
                        document.getElementById('memory-playAgainBtn').addEventListener('click', () => this.resetGame());
                    }
                    handleCardClick(card) {
                        if (card.classList.contains('flipped') || this.flippedCards.length >= 2) return;
                        this.flipCard(card);
                        this.flippedCards.push(card);
                        if (this.flippedCards.length === 2) {
                            this.attempts++;
                            this.updateStats();
                            setTimeout(() => this.checkMatch(), 800);
                        }
                         if (!this.timer && this.attempts === 1) this.startTimer();
                    }
                    flipCard(card) {
                        card.classList.add('flipped');
                        card.innerHTML = card.dataset.symbol;
                        card.classList.remove('bg-orange-400');
                        card.classList.add('bg-orange-100', 'text-amber-800');
                    }
                    checkMatch() {
                        const [card1, card2] = this.flippedCards;
                        if (card1.dataset.symbol === card2.dataset.symbol) {
                            card1.classList.add('matched', 'opacity-70');
                            card2.classList.add('matched', 'opacity-70');
                            this.matchedPairs++;
                            if (this.matchedPairs === this.levelConfig[this.currentLevel]) {
                                this.gameComplete();
                            }
                        } else {
                            [card1, card2].forEach(c => {
                                c.classList.remove('flipped', 'bg-orange-100', 'text-amber-800');
                                c.classList.add('bg-orange-400');
                                c.innerHTML = '‚ùì';
                            });
                        }
                        this.flippedCards = [];
                        this.updateStats();
                    }
                    changeDifficulty(level) {
                        document.querySelectorAll('.memory-difficulty-btn').forEach(btn => btn.classList.remove('active'));
                        document.querySelector(`.memory-difficulty-btn[data-level="${level}"]`).classList.add('active');
                        this.currentLevel = level;
                        this.resetGame();
                    }
                    updateStats() {
                        document.getElementById('memory-attempts').textContent = this.attempts;
                        document.getElementById('memory-pairs').textContent = `${this.matchedPairs}/${this.levelConfig[this.currentLevel]}`;
                    }
                    startTimer() {
                        let seconds = 0;
                        this.timer = setInterval(() => {
                            seconds++;
                            const min = Math.floor(seconds / 60).toString().padStart(2, '0');
                            const sec = (seconds % 60).toString().padStart(2, '0');
                            document.getElementById('memory-timer').textContent = `${min}:${sec}`;
                        }, 1000);
                    }
                    gameComplete() {
                        clearInterval(this.timer);
                        document.getElementById('memory-successModal').classList.remove('hidden');
                    }
                    resetGame() {
                        clearInterval(this.timer);
                        this.timer = null;
                        this.flippedCards = [];
                        this.matchedPairs = 0;
                        this.attempts = 0;
                        document.getElementById('memory-timer').textContent = '00:00';
                        document.getElementById('memory-successModal').classList.add('hidden');
                        this.createGame();
                    }
                }
                new MemoryGame();
            }
            
            // --- L√≥gica de Cody & Roby ---
            if(document.getElementById('page-codyroby')){
                class CodyRobySimulator {
                    constructor() {
                        this.boardSize = 8;
                        this.currentLevel = 1;
                        this.robotPosition = { x: 0, y: 0 };
                        this.robotDirection = 1; // 0=N, 1=E, 2=S, 3=W
                        this.levels = {
                            1: { robot: {x:0, y:4}, target: {x:7, y:4}, obstacles: [] },
                            2: { robot: {x:1, y:1}, target: {x:5, y:5}, obstacles: [{x:3, y:1}, {x:3, y:2}, {x:3, y:3}] },
                            3: { robot: {x:0, y:7}, target: {x:7, y:0}, obstacles: [{x:2,y:2}, {x:2,y:3}, {x:2,y:4}, {x:5,y:5}, {x:5,y:4}, {x:5,y:3}] },
                            4: { robot: {x:4, y:7}, target: {x:4, y:0}, obstacles: [] }
                        };
                        this.program = [];
                        this.isExecuting = false;
                        this.init();
                    }

                    init() {
                        this.createBoard();
                        this.loadLevel(this.currentLevel);
                        this.bindEvents();
                    }

                    createBoard() {
                        const board = document.querySelector('.codyroby-game-board');
                        board.innerHTML = '';
                        for (let y = 0; y < this.boardSize; y++) {
                            for (let x = 0; x < this.boardSize; x++) {
                                const cell = document.createElement('div');
                                cell.className = 'board-cell bg-white border border-orange-200 rounded-sm flex items-center justify-center';
                                cell.dataset.x = x;
                                cell.dataset.y = y;
                                board.appendChild(cell);
                            }
                        }
                    }

                    loadLevel(levelNum) {
                        this.currentLevel = levelNum;
                        const level = this.levels[levelNum];
                        this.robotPosition = { ...level.robot };
                        this.targetPosition = { ...level.target };
                        this.obstacles = [...level.obstacles];
                        this.robotDirection = 1; 
                        this.clearProgram();
                        this.updateBoard();

                        document.querySelectorAll('.codyroby-level-btn').forEach(btn => {
                            btn.classList.toggle('active', btn.dataset.level == levelNum);
                            btn.classList.toggle('bg-orange-700', btn.dataset.level == levelNum);

                        });
                    }
                    
                    updateBoard() {
                        document.querySelectorAll('.board-cell').forEach(cell => {
                            const x = parseInt(cell.dataset.x);
                            const y = parseInt(cell.dataset.y);
                            cell.innerHTML = '';
                            cell.className = 'board-cell bg-white border border-orange-200 rounded-sm flex items-center justify-center';

                            if (this.obstacles.some(obs => obs.x === x && obs.y === y)) {
                                 cell.classList.add('bg-stone-400');
                                 cell.innerHTML = 'üß±';
                            }
                            if (x === this.targetPosition.x && y === this.targetPosition.y) {
                                 cell.classList.add('bg-amber-400');
                                 cell.innerHTML = 'üèÅ';
                            }
                            if (x === this.robotPosition.x && y === this.robotPosition.y) {
                                cell.classList.add('bg-yellow-300');
                                const robotAvatar = document.createElement('div');
                                robotAvatar.className = 'text-2xl';
                                robotAvatar.style.transform = `rotate(${this.robotDirection * 90 - 90}deg)`;
                                robotAvatar.innerHTML = 'ü§ñ';
                                cell.appendChild(robotAvatar);
                            }
                        });
                    }
                    
                    bindEvents() {
                        document.querySelectorAll('.command-card').forEach(card => {
                            card.addEventListener('dragstart', e => e.dataTransfer.setData('text/plain', e.target.dataset.command));
                        });

                        const programSequence = document.querySelector('.program-sequence');
                        programSequence.addEventListener('dragover', e => e.preventDefault());
                        programSequence.addEventListener('drop', e => {
                            e.preventDefault();
                            const command = e.dataTransfer.getData('text/plain');
                            this.addCommandToProgram(command);
                        });
                        
                        document.querySelectorAll('.codyroby-level-btn').forEach(btn => {
                            btn.addEventListener('click', () => this.loadLevel(parseInt(btn.dataset.level)));
                        });

                        document.getElementById('codyroby-executeBtn').addEventListener('click', () => this.executeProgram());
                        document.getElementById('codyroby-clearBtn').addEventListener('click', () => this.clearProgram());
                        document.getElementById('codyroby-resetBtn').addEventListener('click', () => this.loadLevel(this.currentLevel));
                    }
                    
                    addCommandToProgram(command) {
                        this.program.push(command);
                        this.renderProgram();
                    }

                    renderProgram() {
                        const sequence = document.querySelector('.program-sequence');
                        sequence.innerHTML = '';
                        this.program.forEach((cmd, index) => {
                            const cmdElement = document.createElement('div');
                            cmdElement.className = 'program-command bg-amber-200 p-1 rounded text-sm text-center flex justify-between items-center';
                            const icons = {'forward': '‚¨ÜÔ∏è Avanzar', 'turn-left': '‚¨ÖÔ∏è Girar Izq.', 'turn-right': '‚û°Ô∏è Girar Der.'};
                            cmdElement.innerHTML = `<span>${icons[cmd]}</span>`;
                            const removeBtn = document.createElement('button');
                            removeBtn.className = 'text-red-500 font-bold px-1';
                            removeBtn.innerHTML = 'x';
                            removeBtn.onclick = () => {
                                this.program.splice(index, 1);
                                this.renderProgram();
                            };
                            cmdElement.appendChild(removeBtn);
                            sequence.appendChild(cmdElement);
                        });
                    }

                    clearProgram() {
                        this.program = [];
                        this.renderProgram();
                    }

                    async executeProgram() {
                        if (this.isExecuting) return;
                        this.isExecuting = true;
                        // Reset robot to start position for execution
                        const startPos = this.levels[this.currentLevel].robot;
                        this.robotPosition = { ...startPos };
                        this.robotDirection = 1;
                        this.updateBoard();
                        await new Promise(r => setTimeout(r, 500));


                        for (const command of this.program) {
                            this.executeCommand(command);
                            this.updateBoard();
                            await new Promise(r => setTimeout(r, 500));
                        }
                        this.checkWinCondition();
                        this.isExecuting = false;
                    }

                    executeCommand(command) {
                         switch (command) {
                            case 'forward': this.moveForward(); break;
                            case 'turn-left': this.robotDirection = (this.robotDirection + 3) % 4; break;
                            case 'turn-right': this.robotDirection = (this.robotDirection + 1) % 4; break;
                        }
                    }
                    
                    moveForward() {
                        const directions = [{x:0, y:-1}, {x:1, y:0}, {x:0, y:1}, {x:-1, y:0}];
                        const dir = directions[this.robotDirection];
                        const newX = this.robotPosition.x + dir.x;
                        const newY = this.robotPosition.y + dir.y;
                        
                        if (newX >= 0 && newX < this.boardSize && newY >= 0 && newY < this.boardSize &&
                            !this.obstacles.some(obs => obs.x === newX && obs.y === newY)) {
                            this.robotPosition = { x: newX, y: newY };
                        }
                    }
                    
                    checkWinCondition() {
                        if (this.robotPosition.x === this.targetPosition.x && this.robotPosition.y === this.targetPosition.y) {
                            alert('¬°Nivel completado!');
                            if(this.currentLevel < 4) this.loadLevel(this.currentLevel + 1);
                        } else {
                            alert('¬°Casi! Int√©ntalo de nuevo.');
                        }
                    }
                }
                new CodyRobySimulator();
            
                 // Estilos para los botones de Cody & Roby
                document.querySelectorAll('.codyroby-level-btn').forEach(btn => {
                    btn.className = 'codyroby-level-btn bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-full transition';
                    if(btn.classList.contains('active')) btn.classList.add('bg-orange-700');
                });
                 document.querySelectorAll('.command-card').forEach(btn => {
                    btn.className = 'command-card inline-flex flex-col items-center justify-center w-20 h-20 m-1 p-1 bg-amber-200 border-2 border-amber-600 rounded-lg cursor-grab text-xs text-center text-amber-900 font-semibold';
                });
                 document.querySelectorAll('.codyroby-control-button').forEach(btn => {
                    btn.className = 'codyroby-control-button bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-full transition';
                });
            }

             // --- L√≥gica del Visualizador de Algoritmos ---
            if(document.getElementById('page-algoritmos')){
                class SortingVisualizer {
                    constructor() {
                        this.data = [64, 34, 25, 12, 22, 11, 90];
                        this.originalData = [...this.data];
                        this.currentAlgorithm = 'bubble';
                        this.isRunning = false;
                        this.speed = 300; // ms
                        this.stats = { comparisons: 0, swaps: 0 };
                        this.algorithmInfo = {
                            bubble: { name: "Ordenaci√≥n Burbuja", desc: "Compara elementos adyacentes e intercambia si est√°n desordenados. Los elementos m√°s grandes 'burbujean' hacia el final." },
                            selection: { name: "Ordenaci√≥n por Selecci√≥n", desc: "Encuentra el elemento m√°s peque√±o y lo coloca al principio, luego repite con el resto." },
                            insertion: { name: "Ordenaci√≥n por Inserci√≥n", desc: "Toma cada elemento y lo inserta en su posici√≥n correcta dentro de la parte ya ordenada." }
                        };
                        this.init();
                    }

                    init() {
                        this.createDataElements();
                        this.bindEvents();
                        this.updateAlgorithmInfo();
                    }

                    createDataElements() {
                        const container = document.getElementById('sorting-dataContainer');
                        container.innerHTML = '';
                        this.data.forEach(value => {
                            const element = document.createElement('div');
                            element.className = 'data-item w-10 text-white font-bold rounded-t-lg transition-all duration-300 flex items-end justify-center pb-2 bg-orange-400';
                            element.style.height = `${value * 2.5}px`;
                            element.textContent = value;
                            container.appendChild(element);
                        });
                    }
                    
                    bindEvents() {
                        document.querySelectorAll('.sorting-algorithm-btn').forEach(btn => {
                            btn.addEventListener('click', () => this.selectAlgorithm(btn.dataset.algorithm));
                        });
                        document.getElementById('sorting-startBtn').addEventListener('click', () => this.startSorting());
                        document.getElementById('sorting-randomBtn').addEventListener('click', () => this.generateRandomData());
                        document.getElementById('sorting-resetBtn').addEventListener('click', () => this.resetData());
                    }

                    selectAlgorithm(algorithm) {
                        if (this.isRunning) return;
                        this.currentAlgorithm = algorithm;
                        document.querySelectorAll('.sorting-algorithm-btn').forEach(btn => {
                            btn.classList.toggle('active', btn.dataset.algorithm === algorithm);
                            btn.classList.toggle('bg-orange-700', btn.dataset.algorithm === algorithm);
                        });
                        this.updateAlgorithmInfo();
                        this.resetData();
                    }
                    
                    updateAlgorithmInfo() {
                        const info = this.algorithmInfo[this.currentAlgorithm];
                        document.getElementById('sorting-algorithmInfo').innerHTML = `
                            <h3 class="text-xl font-bold text-amber-800 mb-2">${info.name}</h3>
                            <p class="text-stone-700">${info.desc}</p>
                        `;
                    }

                    resetData() {
                        if (this.isRunning) return;
                        this.data = [...this.originalData];
                        this.createDataElements();
                        this.resetStats();
                    }

                    generateRandomData() {
                        if (this.isRunning) return;
                        this.data = Array.from({length: 10}, () => Math.floor(Math.random() * 90) + 10);
                        this.originalData = [...this.data];
                        this.createDataElements();
                        this.resetStats();
                    }
                    
                    resetStats() {
                        this.stats = { comparisons: 0, swaps: 0 };
                        this.updateStats();
                    }
                    
                    updateStats() {
                        document.getElementById('sorting-comparisons').textContent = this.stats.comparisons;
                        document.getElementById('sorting-swaps').textContent = this.stats.swaps;
                    }
                    
                    async startSorting() {
                        if (this.isRunning) return;
                        this.isRunning = true;
                        this.resetStats();
                        
                        switch (this.currentAlgorithm) {
                            case 'bubble': await this.bubbleSort(); break;
                            case 'selection': await this.selectionSort(); break;
                            case 'insertion': await this.insertionSort(); break;
                        }

                        this.isRunning = false;
                    }

                    async delay() {
                        return new Promise(resolve => setTimeout(resolve, this.speed));
                    }

                    async swap(i, j) {
                        this.stats.swaps++;
                        this.updateStats();
                        const elements = document.querySelectorAll('.data-item');
                        elements[i].classList.add('bg-red-500');
                        elements[j].classList.add('bg-red-500');
                        await this.delay();

                        [this.data[i], this.data[j]] = [this.data[j], this.data[i]];
                        this.createDataElements(); // Re-render to show swap
                        
                        const newElements = document.querySelectorAll('.data-item');
                        newElements[i].classList.add('bg-red-500');
                        newElements[j].classList.add('bg-red-500');
                        await this.delay();

                        newElements[i].classList.remove('bg-red-500');
                        newElements[j].classList.remove('bg-red-500');
                    }
                    
                    highlight(indices, colorClass) {
                        const elements = document.querySelectorAll('.data-item');
                        indices.forEach(i => elements[i].classList.add(colorClass));
                    }

                    unhighlight(indices, colorClass) {
                        const elements = document.querySelectorAll('.data-item');
                        indices.forEach(i => elements[i].classList.remove(colorClass));
                    }

                    async bubbleSort() {
                        const n = this.data.length;
                        for (let i = 0; i < n - 1; i++) {
                            for (let j = 0; j < n - i - 1; j++) {
                                this.highlight([j, j + 1], 'bg-yellow-400');
                                await this.delay();
                                this.stats.comparisons++;
                                this.updateStats();

                                if (this.data[j] > this.data[j + 1]) {
                                    await this.swap(j, j + 1);
                                }
                                this.unhighlight([j, j + 1], 'bg-yellow-400');
                            }
                            this.highlight([n-i-1], 'bg-green-500');
                        }
                         this.highlight([0], 'bg-green-500');
                    }

                    async selectionSort() {
                        const n = this.data.length;
                        for (let i = 0; i < n - 1; i++) {
                            let minIdx = i;
                            this.highlight([i], 'bg-blue-500');
                            for (let j = i + 1; j < n; j++) {
                                this.highlight([j], 'bg-yellow-400');
                                await this.delay();
                                this.stats.comparisons++;
                                this.updateStats();
                                if (this.data[j] < this.data[minIdx]) {
                                    this.unhighlight([minIdx], 'bg-blue-500');
                                    minIdx = j;
                                    this.highlight([minIdx], 'bg-blue-500');
                                }
                                 this.unhighlight([j], 'bg-yellow-400');
                            }
                            if (minIdx !== i) {
                               await this.swap(i, minIdx);
                            }
                            this.unhighlight([i, minIdx], 'bg-blue-500');
                            this.highlight([i], 'bg-green-500');
                        }
                         this.highlight([n-1], 'bg-green-500');
                    }
                    
                    async insertionSort() {
                        let n = this.data.length;
                        this.highlight([0], 'bg-green-500');
                        for (let i = 1; i < n; i++) {
                            let key = this.data[i];
                            let j = i - 1;
                            this.highlight([i], 'bg-blue-500');
                            await this.delay();
                            
                            while (j >= 0 && this.data[j] > key) {
                                this.stats.comparisons++;
                                this.updateStats();
                                this.highlight([j, j+1], 'bg-yellow-400');
                                await this.delay();
                                this.data[j + 1] = this.data[j];
                                this.stats.swaps++; // A shift is like a swap in this visualization
                                this.updateStats();
                                this.createDataElements();
                                // Re-highlight sorted part and current check
                                for(let k=0; k<=j; k++) this.highlight([k], 'bg-green-500');
                                this.highlight([j+1], 'bg-blue-500');
                                
                                await this.delay();
                                this.unhighlight([j, j+1], 'bg-yellow-400');
                                j = j - 1;
                            }
                            this.data[j + 1] = key;
                            this.createDataElements();
                            for(let k=0; k<=i; k++) this.highlight([k], 'bg-green-500');
                            await this.delay();
                        }
                    }
                }
                 new SortingVisualizer();

                 document.querySelectorAll('.sorting-algorithm-btn, .sorting-control-btn').forEach(btn => {
                    btn.className += ' bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-full transition';
                });
            }
             // --- L√≥gica del Trivial ---
            if(document.getElementById('page-trivial')){
                class TrivialGame {
                    constructor(){
                        this.originalQuestions = this.getQuestionBank();
                        this.questions = {};
                        
                        this.categories = ['matematicas', 'ciencias', 'tecnologia', 'social', 'logica'];
                        this.categoryColors = {matematicas: '#f97316', ciencias: '#16a34a', tecnologia: '#2563eb', social: '#ca8a04', logica: '#eab308'};
                        this.teams = {
                            1: { name: 'Equipo 1', quesitos: [] },
                            2: { name: 'Equipo 2', quesitos: [] }
                        };
                        this.currentTeam = 1;

                        this.init();
                    }

                    getQuestionBank() {
                        return {
                             matematicas: [
                                { text: "Para calcular el √°rea total de una figura compuesta por un cuadrado de 5cm de lado y un tri√°ngulo de 5cm de base y 4cm de altura, ¬øqu√© pasos descompondr√≠as?", options: ["Calcular √°rea del cuadrado, calcular √°rea del tri√°ngulo, sumarlas", "Sumar todos los lados", "Multiplicar 5x5x5x4", "Solo calcular el √°rea del cuadrado"], correct: 0, explanation: "Descomponemos el problema en dos partes m√°s simples: el √°rea de cada figura por separado, y luego las sumamos." },
                                { text: "Quieres comprar 3 l√°pices a 0.50‚Ç¨ cada uno y 2 cuadernos a 1.20‚Ç¨ cada uno. ¬øC√≥mo descompones la operaci√≥n para saber el total?", options: ["Sumar 3+0.50 y 2+1.20", "Multiplicar 3x2 y 0.50x1.20", "Calcular el coste de los l√°pices, el de los cuadernos, y sumar ambos resultados", "Sumar todos los n√∫meros"], correct: 2, explanation: "Se descompone en dos problemas m√°s peque√±os: el coste de los l√°pices (3 * 0.50) y el de los cuadernos (2 * 1.20), para luego sumar los totales." },
                                { text: "Un viaje en autob√∫s dura 4 horas. Si el autob√∫s hace una parada de 15 minutos cada hora, ¬øc√≥mo descompones el c√°lculo del tiempo total del viaje?", options: ["Sumar 4 + 15", "Contar las paradas, multiplicar por 15 min, y sumarlo a las 4 horas", "Multiplicar 4 x 15", "Restar 15 minutos de 4 horas"], correct: 1, explanation: "El problema se divide en: 1) Calcular el tiempo total de las paradas (hay 3 paradas en un viaje de 4h, no al final) y 2) Sumarlo al tiempo de conducci√≥n." },
                                { text: "Para pintar una pared de 10m de largo y 3m de alto, sabiendo que un bote de pintura cubre 12m¬≤, ¬øqu√© dos grandes pasos debes seguir?", options: ["Comprar la pintura y luego medir", "Medir el per√≠metro y luego dividir", "Calcular el √°rea de la pared y luego dividirla por el rendimiento de la pintura", "Multiplicar 10x3x12"], correct: 2, explanation: "Descomponemos en: 1) Saber cu√°ntos m¬≤ hay que pintar (√°rea). 2) Saber cu√°ntos botes se necesitan para esa √°rea (divisi√≥n)." },
                                { text: "Calculas la vuelta de una compra de 7.50‚Ç¨ si pagas con un billete de 20‚Ç¨. ¬øCu√°l es la descomposici√≥n mental m√°s sencilla?", options: ["Restar 20 - 7.50 directamente", "Ir de 7.50 a 8.00 (0.50‚Ç¨), y de 8.00 a 20.00 (12‚Ç¨), y sumar ambos", "Sumar 20 + 7.50", "Dividir 20 / 7.50"], correct: 1, explanation: "Descomponer la resta en pasos m√°s peque√±os (llegar a la siguiente unidad y luego a la decena) es una estrategia de c√°lculo mental muy eficaz." },
                                { text: "Para saber cu√°ntos d√≠as has vivido, ¬øqu√© informaci√≥n necesitas descomponer?", options: ["Solo tu a√±o de nacimiento", "Tu fecha de nacimiento y la fecha actual", "Solo el d√≠a actual", "El n√∫mero de meses del a√±o"], correct: 1, explanation: "Necesitas descomponer el tiempo en a√±os completos, meses completos y d√≠as del mes actual para poder sumarlos." },
                                { text: "Un problema dice: 'El doble de un n√∫mero menos 5 es 15'. ¬øC√≥mo lo descompones para hallar el n√∫mero?", options: ["Probar n√∫meros al azar", "Hacer la operaci√≥n inversa: sumar 5 a 15 y luego dividir entre 2", "Restar 5 a 15 y luego multiplicar por 2", "Dividir 15 entre 2"], correct: 1, explanation: "Descomponer un problema algebraico a menudo implica realizar las operaciones inversas en el orden opuesto (primero sumar, luego dividir)." },
                                { text: "Quieres saber cu√°ntas baldosas de 25cm x 25cm necesitas para un suelo de 2m x 3m. ¬øQu√© descomposici√≥n es la correcta?", options: ["Pasar todo a cm, calcular el √°rea del suelo, el √°rea de una baldosa, y dividir", "Multiplicar 2x3 y dividir por 25", "Sumar 2+3 y multiplicarlo por 25", "Pasar todo a metros y sumar"], correct: 0, explanation: "El problema se descompone en: 1) Unificar unidades. 2) Calcular √°reas. 3) Dividir para ver cu√°ntas veces cabe una en la otra." },
                                { text: "Para organizar un torneo de f√∫tbol con 8 equipos, ¬øc√≥mo descompones el calendario de partidos si todos juegan contra todos una vez?", options: ["Multiplicar 8x8", "Hacer que cada equipo juegue 7 partidos y luego ajustar", "Dibujar un fixture y contar", "Dividir 8 entre 2"], correct: 1, explanation: "Descompones el problema total en el problema de un solo equipo (juega 7 partidos), y luego ajustas para no contar los partidos dos veces." },
                                { text: "Tienes que dividir 153 entre 3. ¬øCu√°l es una buena descomposici√≥n para hacerlo mentalmente?", options: ["Buscar la respuesta en la calculadora", "Descomponer 153 en 150 + 3, dividir cada parte entre 3 y sumar los resultados", "Probar a multiplicar 3 por n√∫meros hasta que d√© 153", "Restar 3 repetidamente"], correct: 1, explanation: "Descomponer el n√∫mero en partes m√°s f√°ciles de dividir (150/3=50, 3/3=1) y sumar los cocientes (50+1=51) es una t√©cnica clave." },
                            ],
                            ciencias: [
                                { text: "Para explicar el ciclo del agua, ¬øen qu√© tres fases principales lo descompondr√≠as?", options: ["Lluvia, sol y nubes", "Evaporaci√≥n, condensaci√≥n y precipitaci√≥n", "R√≠os, mares y lagos", "Fr√≠o, calor y viento"], correct: 1, explanation: "Descomponer un ciclo complejo en sus fases secuenciales (evaporaci√≥n, condensaci√≥n, precipitaci√≥n) es fundamental para entenderlo." },
                                { text: "Quieres construir un circuito el√©ctrico simple para encender una bombilla. ¬øQu√© componentes b√°sicos (partes) necesitas?", options: ["Solo una bombilla", "Una pila, cables y una bombilla", "Un enchufe y un interruptor", "Un motor y una pila"], correct: 1, explanation: "Se descompone el sistema en sus partes esenciales: una fuente de energ√≠a (pila), un conductor (cables) y un receptor (bombilla)." },
                                { text: "Para entender la cadena alimentaria, ¬øen qu√© tres roles descompones a los seres vivos?", options: ["Grandes, medianos y peque√±os", "Productores, consumidores y descomponedores", "Los que vuelan, nadan y corren", "Plantas, animales y humanos"], correct: 1, explanation: "Descomponer un ecosistema en los roles funcionales de sus miembros (productores, consumidores, etc.) permite analizar c√≥mo fluye la energ√≠a." },
                                { text: "Si quieres investigar por qu√© una cometa vuela, ¬øen qu√© fuerzas que act√∫an sobre ella descompondr√≠as tu estudio?", options: ["Viento y cuerda", "Sustentaci√≥n, arrastre, peso y empuje del viento", "Tela, varillas y cola", "Altura y velocidad"], correct: 1, explanation: "El problema complejo del vuelo se descompone en el an√°lisis de las cuatro fuerzas aerodin√°micas fundamentales que act√∫an sobre la cometa." },
                                { text: "Para explicar c√≥mo funciona el sistema digestivo, ¬øcu√°l es la secuencia de partes que seguir√≠as?", options: ["Est√≥mago, intestino, es√≥fago", "Boca, es√≥fago, est√≥mago, intestinos", "Intestinos, boca, est√≥mago", "Boca, pulmones, coraz√≥n"], correct: 1, explanation: "La mejor manera de explicarlo es descomponer el proceso en el orden en que ocurre, siguiendo el camino del alimento a trav√©s del cuerpo." },
                                { text: "Quieres clasificar un grupo de animales. ¬øQu√© criterio de descomposici√≥n te permitir√≠a crear los grupos 'vertebrados' e 'invertebrados'?", options: ["Su tama√±o", "Su color", "Si tienen o no esqueleto interno", "Si viven en el agua o en la tierra"], correct: 2, explanation: "La clasificaci√≥n biol√≥gica se basa en descomponer el reino animal seg√∫n caracter√≠sticas estructurales clave, como la presencia de columna vertebral." },
                                { text: "Para entender la metamorfosis de una mariposa, ¬øen qu√© cuatro etapas la descompones?", options: ["Peque√±a, mediana, grande, voladora", "Huevo, oruga, cris√°lida y mariposa", "Gusano, capullo, bicho, polilla", "Beb√©, ni√±o, adulto, anciano"], correct: 1, explanation: "El ciclo de vida se descompone en sus 4 fases distintas para poder estudiar los cambios que ocurren en cada una." },
                                { text: "Al estudiar un volc√°n, los ge√≥logos descomponen su estructura en tres partes principales. ¬øCu√°les son?", options: ["Cima, ladera y base", "Cr√°ter, chimenea y c√°mara magm√°tica", "Roca, lava y ceniza", "Monta√±a, fuego y humo"], correct: 1, explanation: "Para entender c√≥mo funciona un volc√°n, se descompone en sus partes funcionales clave, desde donde se almacena el magma hasta donde sale." },
                                { text: "Para hacer un huerto escolar, ¬øcu√°les son los primeros pasos en los que descompondr√≠as el proyecto?", options: ["Comprar semillas y esperar", "Plantar directamente en el suelo", "Preparar la tierra, elegir las semillas adecuadas para la temporada, y planificar el riego", "Hacer un dibujo del huerto"], correct: 2, explanation: "Un proyecto grande como un huerto se descompone en tareas secuenciales: preparaci√≥n, planificaci√≥n y ejecuci√≥n." },
                                { text: "Si un experimento no sale como esperabas, ¬øcu√°l es la mejor forma de descomponer el an√°lisis para encontrar el error (debugging)?", options: ["Repetirlo exactamente igual", "Revisar cada paso del procedimiento uno por uno", "Abandonar el experimento", "Cambiar todos los materiales a la vez"], correct: 1, explanation: "El 'debugging' cient√≠fico consiste en descomponer el proceso y revisar cada variable y paso para aislar d√≥nde se produjo el fallo." },
                            ],
                            tecnologia: [
                                { text: "Tu amigo no puede conectarse a Internet. ¬øC√≥mo descompones el problema para ayudarle?", options: ["Reiniciar el ordenador y ya", "Llamar al t√©cnico directamente", "Verificar si el router est√° encendido, si el cable est√° conectado, y si la contrase√±a del WiFi es correcta", "Comprar un ordenador nuevo"], correct: 2, explanation: "El 'debugging' de problemas tecnol√≥gicos se basa en descomponer el sistema en sus partes y verificarlas secuencialmente." },
                                { text: "Quieres crear una presentaci√≥n de diapositivas sobre tu animal favorito. ¬øEn qu√© partes la descompondr√≠as?", options: ["Buscar solo una foto muy grande", "Escribir todo el texto en la primera diapositiva", "Hacer una portada, una introducci√≥n, desarrollar el contenido en varias diapositivas y una conclusi√≥n", "Copiar y pegar de una web"], correct: 2, explanation: "Un buen proyecto se descompone en una estructura l√≥gica (portada, desarrollo, conclusi√≥n) para que la informaci√≥n sea clara." },
                                { text: "Para programar un personaje de videojuego para que salte y coja una moneda, ¬øqu√© dos acciones b√°sicas debes programar?", options: ["Solo el movimiento del personaje", "El salto del personaje y la desaparici√≥n de la moneda al tocarla", "El sonido de la moneda", "El color del personaje"], correct: 1, explanation: "La tarea compleja 'coger una moneda' se descompone en dos eventos m√°s simples: el movimiento del jugador y la reacci√≥n del objeto." },
                                { text: "Si quieres construir un robot simple que siga una l√≠nea negra, ¬øqu√© dos componentes principales necesitas?", options: ["Solo ruedas", "Un sensor de luz para detectar la l√≠nea y motores para las ruedas", "Una c√°mara y un altavoz", "Un GPS"], correct: 1, explanation: "El problema se descompone en 'ver' la l√≠nea (sensor) y 'moverse' (motores). Cada parte resuelve una peque√±a parte del problema total." },
                                { text: "El ordenador va muy lento. Para averiguar por qu√©, un t√©cnico descompone las posibles causas. ¬øCu√°l ser√≠a un primer paso l√≥gico?", options: ["Formatear el disco duro", "Comprobar si hay muchos programas abiertos a la vez", "Cambiar el monitor", "Limpiar el teclado"], correct: 1, explanation: "Se descompone el problema revisando las causas m√°s probables y sencillas primero, como el consumo de recursos por programas abiertos." },
                                { text: "Quieres hacer un v√≠deo corto. ¬øCu√°l es la mejor manera de descomponer el proceso de creaci√≥n?", options: ["Grabar todo de una vez y subirlo", "Escribir un guion, grabar las escenas, editarlas y a√±adir sonido", "Solo a√±adir m√∫sica a fotos", "Grabar sin pensar y luego ver qu√© sale"], correct: 1, explanation: "La producci√≥n de un v√≠deo se descompone en fases claras: pre-producci√≥n (guion), producci√≥n (grabaci√≥n) y post-producci√≥n (edici√≥n)." },
                                { text: "Para crear una p√°gina web sencilla, ¬øen qu√© tres elementos b√°sicos la descompondr√≠as?", options: ["Solo texto", "Solo im√°genes", "Estructura (HTML), estilo (CSS) y funcionalidad (JavaScript)", "Un √∫nico archivo muy largo"], correct: 2, explanation: "El desarrollo web profesional descompone una p√°gina en sus tres capas fundamentales: contenido, presentaci√≥n e interactividad." },
                                { text: "Un 'algoritmo' es una serie de pasos para resolver un problema. Si quieres hacer un s√°ndwich, ¬øcu√°l es la descomposici√≥n correcta de los pasos?", options: ["Comer el s√°ndwich", "Poner el jam√≥n y luego coger el pan", "Coger dos rebanadas de pan, poner los ingredientes, juntar las rebanadas", "Comprar los ingredientes"], correct: 2, explanation: "Un algoritmo requiere descomponer una tarea en una secuencia ordenada y l√≥gica de pasos." },
                                { text: "Si tu m√≥vil no carga, ¬øen qu√© partes descompones el problema para encontrar el fallo?", options: ["Comprar un m√≥vil nuevo", "Probar con otro enchufe, probar con otro cable y probar el cable en otro dispositivo", "Agitar el m√≥vil", "Dejarlo apagado un d√≠a"], correct: 1, explanation: "Se descompone el sistema de carga en sus componentes (enchufe, cargador, cable, m√≥vil) y se prueba cada uno para aislar el fallo." },
                                { text: "Para dise√±ar una aplicaci√≥n, el primer paso es descomponer lo que debe hacer en 'historias de usuario'. ¬øCu√°l es un ejemplo?", options: ["'La aplicaci√≥n ser√° azul'", "'Como usuario, quiero poder iniciar sesi√≥n con mi email'", "'La aplicaci√≥n ser√° la mejor'", "'Tendr√° muchos botones'"], correct: 1, explanation: "La descomposici√≥n en el dise√±o de software se centra en dividir las grandes funcionalidades en peque√±as acciones que el usuario necesita realizar." },
                            ],
                            social: [
                                { text: "Para organizar una campa√±a de reciclaje en el colegio, ¬øen qu√© tareas principales descompondr√≠as el proyecto?", options: ["Poner un solo contenedor", "Decir a la gente que recicle", "Informar a las clases, colocar contenedores espec√≠ficos y organizar la recogida", "Esperar a que alguien lo haga"], correct: 2, explanation: "Un proyecto social se descompone en fases: comunicaci√≥n, log√≠stica (recursos) y acci√≥n." },
                                { text: "Quieres entender un conflicto hist√≥rico, como una guerra. ¬øC√≥mo lo descomponen los historiadores para estudiarlo?", options: ["Decidiendo qui√©nes eran los buenos y los malos", "Analizando las causas, el desarrollo de los acontecimientos y las consecuencias", "Leyendo solo la fecha de inicio y fin", "Viendo una pel√≠cula sobre el tema"], correct: 1, explanation: "El an√°lisis hist√≥rico descompone eventos complejos en sus partes (causas, desarrollo, consecuencias) para comprenderlos en profundidad." },
                                { text: "Para crear una ley, ¬øcu√°l es la descomposici√≥n del proceso en un sistema democr√°tico?", options: ["El presidente la decide y se aplica", "Se vota directamente por todos los ciudadanos", "Se propone, se debate en el parlamento, se vota y se publica", "Se escribe en un libro y ya est√°"], correct: 2, explanation: "El proceso legislativo se descompone en una serie de pasos formales que garantizan el debate y el consenso." },
                                { text: "Si quieres planificar un viaje de fin de curso, ¬øqu√© tres grandes √°reas debes descomponer?", options: ["Solo el hotel", "Destino, transporte y alojamiento", "Comprar recuerdos", "Hacer la maleta"], correct: 1, explanation: "La planificaci√≥n de un viaje se descompone en las decisiones clave que hay que tomar: d√≥nde ir, c√≥mo llegar y d√≥nde dormir." },
                                { text: "Para entender c√≥mo funciona el ayuntamiento de tu ciudad, ¬øen qu√© roles principales lo descompondr√≠as?", options: ["El edificio y los coches", "El alcalde, los concejales y los funcionarios", "Los habitantes de la ciudad", "Los partidos pol√≠ticos"], correct: 1, explanation: "Una instituci√≥n se comprende mejor descomponi√©ndola en los roles y funciones de las personas que la forman." },
                                { text: "Quieres organizar una limpieza del patio del recreo. ¬øCu√°l es la mejor forma de descomponer el trabajo entre los voluntarios?", options: ["Que todos hagan lo mismo a la vez", "Dividir el patio en zonas y asignar un equipo a cada zona", "Empezar todos por el mismo sitio", "Dejar que cada uno haga lo que quiera"], correct: 1, explanation: "La estrategia 'divide y vencer√°s' consiste en descomponer una tarea grande en partes m√°s peque√±as y paralelas para ser m√°s eficientes." },
                                { text: "Para analizar una noticia y saber si es fiable, ¬øqu√© pasos de descomposici√≥n seguir√≠as?", options: ["Creerla si te gusta lo que dice", "Leer solo el titular", "Comprobar la fuente, buscar la misma noticia en otros medios y verificar la fecha", "Compartirla inmediatamente"], correct: 2, explanation: "El pensamiento cr√≠tico implica descomponer una noticia en sus elementos (fuente, contenido, fecha) para analizarlos por separado." },
                                { text: "El objetivo es mejorar la convivencia en clase. ¬øC√≥mo descompondr√≠as este gran objetivo en acciones concretas?", options: ["Poner un cartel que diga 'Sed buenos'", "Establecer normas de respeto, crear un sistema de mediaci√≥n y organizar actividades en equipo", "Castigar a quien se porte mal", "No hacer nada"], correct: 1, explanation: "Un objetivo abstracto como 'mejorar la convivencia' se debe descomponer en acciones medibles y concretas." },
                                { text: "Para estudiar la geograf√≠a de una regi√≥n como Castilla-La Mancha, ¬øen qu√© elementos la descomponen los ge√≥grafos?", options: ["Solo sus ciudades", "Relieve, r√≠os, clima y poblaci√≥n", "Sus monumentos", "Sus carreteras"], correct: 1, explanation: "El estudio geogr√°fico descompone un territorio en sus diferentes capas f√≠sicas y humanas para entender su conjunto." },
                                { text: "Quieres proponer una nueva norma para el recreo. ¬øCu√°l es la descomposici√≥n del proceso para que sea democr√°tico?", options: ["Imponer tu idea a los dem√°s", "Escribir la idea, presentarla a la clase, debatirla y votarla", "Dec√≠rselo solo al profesor", "Guardarte la idea para ti"], correct: 1, explanation: "Un proceso democr√°tico se descompone en fases que incluyen la propuesta, el di√°logo y la toma de decisiones colectiva." },
                            ],
                             logica: [
                                { text: "Para resolver un Sudoku, ¬øcu√°l es la mejor estrategia de descomposici√≥n?", options: ["Rellenar n√∫meros al azar", "Empezar por el n√∫mero 1 y ponerlo en todas partes", "Buscar la casilla, fila o columna que tenga m√°s n√∫meros ya puestos para deducir los que faltan", "Dejarlo en blanco"], correct: 2, explanation: "Se descompone el gran problema del tablero entero en resolver el subproblema m√°s sencillo que se pueda encontrar en cada momento." },
                                { text: "Est√°s en un laberinto. ¬øQu√© algoritmo (serie de pasos) simple puedes seguir para asegurarte de encontrar la salida?", options: ["Correr en c√≠rculos", "Mantener siempre una mano en contacto con una de las paredes (la derecha o la izquierda)", "Ir siempre en l√≠nea recta", "Volver al principio cada vez que te chocas"], correct: 1, explanation: "Este es un algoritmo cl√°sico que descompone el problema de 'explorar todo' en una regla simple y repetitiva." },
                                { text: "Tienes 8 bolas de billar y una de ellas pesa un poco m√°s. Usando una balanza de dos platos, ¬øc√≥mo descompones el problema para encontrarla en solo 2 pesadas?", options: ["Pesando una contra una hasta encontrarla", "Pesar 3 bolas contra otras 3. Si se equilibra, la pesada est√° en las 2 restantes. Si no, est√° en el grupo que m√°s pesa.", "Adivinar cu√°l es", "Pesarlas todas juntas"], correct: 1, explanation: "Se descompone el grupo grande en grupos m√°s peque√±os para descartar posibilidades de forma mucho m√°s r√°pida y eficiente." },
                                { text: "Para montar un puzzle de 1000 piezas, ¬øcu√°l es la estrategia de descomposici√≥n m√°s efectiva?", options: ["Empezar por el centro", "Separar primero todas las piezas de los bordes y montar el marco", "Probar a juntar piezas al azar", "Mirar la caja y copiarlo"], correct: 1, explanation: "Se descompone el problema en dos partes m√°s sencillas: primero el marco (piezas f√°ciles de identificar) y luego el interior." },
                                { text: "Tienes que adivinar un n√∫mero del 1 al 100. ¬øQu√© pregunta descompone el problema por la mitad en cada paso?", options: ["'¬øEs el 50?'", "'¬øEs mayor o menor que 50?'", "'¬øEs un n√∫mero par?'", "'¬øAcaba en 0?'"], correct: 1, explanation: "Esta estrategia (b√∫squeda binaria) descompone el rango de posibilidades a la mitad con cada pregunta, siendo la forma m√°s r√°pida de encontrar la soluci√≥n." },
                                { text: "El reto es dibujar una casa compleja. ¬øCu√°l es el primer paso para descomponer la tarea?", options: ["Empezar por los detalles como las flores de las ventanas", "Dibujar las formas geom√©tricas b√°sicas que la componen (un cuadrado para el cuerpo, un tri√°ngulo para el tejado...)", "Colorearla directamente", "Dibujar el humo de la chimenea"], correct: 1, explanation: "El dibujo art√≠stico a menudo empieza por descomponer el objeto complejo en sus formas geom√©tricas simples." },
                                { text: "Tienes que memorizar un n√∫mero de tel√©fono largo (ej: 612 345 678). ¬øC√≥mo lo descompones para que sea m√°s f√°cil?", options: ["Intentar recordarlo todo de golpe", "Agrupar los n√∫meros en bloques m√°s peque√±os (612 - 345 - 678)", "Escribirlo 100 veces", "Cantarlo muy r√°pido"], correct: 1, explanation: "La t√©cnica de 'chunking' consiste en descomponer una larga cadena de informaci√≥n en trozos m√°s peque√±os y manejables para la memoria." },
                                { text: "Para escribir una redacci√≥n sobre 'Mis vacaciones', ¬øcu√°l es la mejor descomposici√≥n de la estructura?", options: ["Escribir sin parar lo primero que se te ocurra", "Hacer un esquema: introducci√≥n (d√≥nde fuiste), desarrollo (qu√© hiciste cada d√≠a) y conclusi√≥n (qu√© te pareci√≥)", "Poner solo una lista de lugares", "Buscar una redacci√≥n en internet y copiarla"], correct: 1, explanation: "Antes de escribir, se debe descomponer el tema en una estructura l√≥gica para organizar las ideas." },
                                { text: "Quieres encontrar la palabra 'VIBE' en una sopa de letras. ¬øQu√© estrategia de descomposici√≥n es m√°s sistem√°tica?", options: ["Mirar la sopa de letras al azar hasta que aparezca", "Buscar solo la letra 'V', y cada vez que encuentres una, revisar las letras de su alrededor", "Leer todas las letras de izquierda a derecha", "Buscar primero la 'E'"], correct: 1, explanation: "Se descompone el problema de 'encontrar la palabra' en 'encontrar la primera letra' y luego 'verificar el resto', lo que es mucho m√°s eficiente." },
                                { text: "Resuelve el acertijo: 'Siempre estoy entre dos, pero nunca soy tres. Si me juntas, siempre soy uno'. ¬øC√≥mo lo descompones?", options: ["Pensar en n√∫meros", "Analizar cada frase por separado: 'entre dos', 'no soy tres', 'si me juntas soy uno'", "Buscar la respuesta en internet", "Preguntar a un amigo"], correct: 1, explanation: "Los acertijos se resuelven descomponiendo las pistas y analiz√°ndolas una por una. La respuesta es la letra 'Y' (est√° entre D-O-S, no en T-R-E-S, y en 'Y-O' forma uno)." },
                            ],
                        };
                    }

                    init(){
                        this.bindEvents();
                        this.resetGame();
                    }
                    
                    createRoulette() {
                        const roulette = document.getElementById('trivial-roulette');
                        roulette.innerHTML = '';
                        const angle = 360 / this.categories.length;
                        // A better approach for sectors
                        let gradient = 'conic-gradient(';
                        this.categories.forEach((cat, i) => {
                           gradient += `${this.categoryColors[cat]} ${i * angle}deg, ${this.categoryColors[cat]} ${(i + 1) * angle}deg${i === this.categories.length - 1 ? '' : ','}`;
                        });
                        gradient += ')';
                        roulette.style.background = gradient;
                    }

                    bindEvents(){
                        document.getElementById('trivial-spin-btn').addEventListener('click', () => this.spinRoulette());
                        document.getElementById('trivial-play-again-btn').addEventListener('click', () => this.resetGame());
                        document.getElementById('trivial-restart-btn').addEventListener('click', () => this.resetGame());
                    }
                    
                    spinRoulette(){
                        document.getElementById('trivial-spin-btn').disabled = true;
                        const roulette = document.getElementById('trivial-roulette');
                        const randomAngle = Math.floor(Math.random() * 360) + 360 * 5; // Spin at least 5 times
                        
                        roulette.style.transform = `rotate(${randomAngle}deg)`;
                        
                        setTimeout(() => {
                            const finalAngle = randomAngle % 360;
                            const sectorAngle = 360 / this.categories.length;
                            const categoryIndex = Math.floor((360 - finalAngle + (sectorAngle/2)) / sectorAngle) % this.categories.length;
                            const category = this.categories[categoryIndex];
                            this.askQuestion(category);
                        }, 4100); // Wait for animation to finish
                    }

                    askQuestion(category) {
                        document.getElementById('trivial-welcome-message').classList.add('hidden');
                        const questionArea = document.getElementById('trivial-question-area');
                        questionArea.classList.remove('hidden');

                        const questionBank = this.questions[category];
                        if (questionBank.length === 0) {
                            alert(`No quedan preguntas de ${category}. ¬°Turno perdido!`);
                            this.switchTurn();
                            return;
                        }
                        
                        const questionIndex = Math.floor(Math.random() * questionBank.length);
                        const questionData = questionBank[questionIndex];
                        this.currentQuestionData = { ...questionData, category, index: questionIndex };

                        document.getElementById('trivial-category-title').textContent = category.charAt(0).toUpperCase() + category.slice(1);
                        document.getElementById('trivial-category-title').style.color = this.categoryColors[category];
                        document.getElementById('trivial-question-text').textContent = questionData.text;

                        const optionsContainer = document.getElementById('trivial-answer-options');
                        optionsContainer.innerHTML = '';
                        questionData.options.forEach((opt, index) => {
                            const btn = document.createElement('button');
                            btn.className = 'trivial-answer-btn p-3 bg-orange-100 border-2 border-amber-600 rounded-lg text-left hover:bg-amber-200';
                            btn.textContent = opt;
                            btn.onclick = () => this.checkAnswer(index === questionData.correct, questionData.explanation, btn);
                            optionsContainer.appendChild(btn);
                        });
                    }

                    checkAnswer(isCorrect, explanation, btn) {
                        document.querySelectorAll('.trivial-answer-btn').forEach(b => b.disabled = true);
                        const feedbackArea = document.getElementById('trivial-feedback-area');
                        
                        if (isCorrect) {
                            btn.classList.add('bg-green-300');
                            feedbackArea.innerHTML = `<strong>¬°Correcto!</strong> ${explanation}`;
                            const category = this.currentQuestionData.category;
                            
                            if (!this.teams[this.currentTeam].quesitos.includes(category)) {
                                this.teams[this.currentTeam].quesitos.push(category);
                                this.updateTeamsDisplay();
                                setTimeout(() => alert(`¬°El ${this.teams[this.currentTeam].name} ha ganado el quesito de ${category}!`), 100);
                            }
                            
                            // Remove question from bank
                             this.questions[category].splice(this.currentQuestionData.index, 1);
                             
                             if (this.teams[this.currentTeam].quesitos.length === this.categories.length) {
                                this.winGame();
                                return;
                            }
                        } else {
                            btn.classList.add('bg-red-300');
                            feedbackArea.innerHTML = `<strong>Incorrecto.</strong> ${explanation}`;
                        }
                        
                        feedbackArea.classList.remove('hidden');
                        const continueBtn = document.getElementById('trivial-continue-btn');
                        continueBtn.classList.remove('hidden');
                        continueBtn.onclick = () => {
                            if (!isCorrect) this.switchTurn();
                            this.endTurn();
                        };
                    }
                    
                    switchTurn(){
                        this.currentTeam = this.currentTeam === 1 ? 2 : 1;
                        this.updateTeamsDisplay();
                    }
                    
                    endTurn() {
                        document.getElementById('trivial-question-area').classList.add('hidden');
                        document.getElementById('trivial-feedback-area').classList.add('hidden');
                        document.getElementById('trivial-continue-btn').classList.add('hidden');
                        
                        const welcomeMessage = document.getElementById('trivial-welcome-message');
                        welcomeMessage.classList.remove('hidden');
                        welcomeMessage.querySelector('#trivial-current-turn').textContent = this.teams[this.currentTeam].name;
                        
                        document.getElementById('trivial-spin-btn').disabled = false;
                    }
                    
                    updateTeamsDisplay() {
                        for(let i = 1; i <= 2; i++){
                            const teamDiv = document.getElementById(`trivial-team-${i}`);
                            teamDiv.classList.remove('border-amber-700', 'bg-amber-100');
                             if(this.currentTeam === i) {
                                teamDiv.classList.add('border-amber-700', 'bg-amber-100');
                            }
                            
                            const quesitosContainer = teamDiv.querySelector('div:last-child');
                            quesitosContainer.innerHTML = '';
                            this.categories.forEach(cat => {
                                const quesito = document.createElement('div');
                                quesito.className = 'w-4 h-4 rounded-full border border-gray-400';
                                if (this.teams[i].quesitos.includes(cat)) {
                                    quesito.style.backgroundColor = this.categoryColors[cat];
                                } else {
                                    quesito.classList.add('bg-gray-200');
                                }
                                quesitosContainer.appendChild(quesito);
                            });
                        }
                    }
                    
                    winGame() {
                        document.getElementById('trivial-winner-text').textContent = `¬°El ${this.teams[this.currentTeam].name} ha ganado la partida!`;
                        document.getElementById('trivial-win-modal').classList.remove('hidden');
                    }

                    resetGame() {
                        this.questions = JSON.parse(JSON.stringify(this.originalQuestions));
                        this.teams = { 1: { name: 'Equipo 1', quesitos: [] }, 2: { name: 'Equipo 2', quesitos: [] }};
                        this.currentTeam = 1;
                        
                        this.createRoulette();
                        this.updateTeamsDisplay();
                        
                        document.getElementById('trivial-win-modal').classList.add('hidden');
                        this.endTurn();
                    }
                }
                new TrivialGame();

                 document.querySelectorAll('.trivial-team-card').forEach(btn => {
                    btn.className = 'trivial-team-card p-4 bg-orange-100 rounded-lg cursor-pointer border-2 border-transparent hover:border-amber-700 text-center';
                });
                document.querySelectorAll('.trivial-category-btn, .trivial-control-btn').forEach(btn => {
                    btn.className += ' bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg transition';
                });
            }

            // --- L√≥gica del Simulador de Redes ---
            if(document.getElementById('page-redes')){
                 class NetworkSimulator {
                    constructor() {
                        this.canvas = document.getElementById('network-canvas');
                        this.nodes = [];
                        this.connections = [];
                        this.selectedNodes = [];
                        this.nextNodeId = 1;
                        this.init();
                    }

                    init() {
                        this.bindEvents();
                        this.log('Simulador de red inicializado.');
                    }

                    bindEvents() {
                        document.querySelectorAll('.network-device-item').forEach(item => {
                            item.addEventListener('dragstart', e => e.dataTransfer.setData('text/plain', e.currentTarget.dataset.type));
                        });
                        this.canvas.addEventListener('dragover', e => e.preventDefault());
                        this.canvas.addEventListener('drop', e => {
                            e.preventDefault();
                            const type = e.dataTransfer.getData('text/plain');
                            const rect = this.canvas.getBoundingClientRect();
                            const x = e.clientX - rect.left - 30;
                            const y = e.clientY - rect.top - 30;
                            this.addNode(type, x, y);
                        });
                        this.canvas.addEventListener('click', e => {
                            if (e.target.closest('.network-node')) {
                                this.selectNode(parseInt(e.target.closest('.network-node').dataset.nodeId));
                            }
                        });
                        document.getElementById('network-sendDataBtn').addEventListener('click', () => this.simulateDataTransmission());
                        document.getElementById('network-analyzePathBtn').addEventListener('click', () => this.analyzePath());
                        document.getElementById('network-clearNetworkBtn').addEventListener('click', () => this.clearNetwork());
                    }

                    addNode(type, x, y) {
                        const node = { id: this.nextNodeId++, type, x, y, name: `${type.charAt(0).toUpperCase() + type.slice(1)} ${this.nextNodeId - 1}` };
                        this.nodes.push(node);
                        this.render();
                        this.log(`A√±adido ${node.name}.`);
                    }

                    selectNode(nodeId) {
                        const nodeElement = document.querySelector(`.network-node[data-node-id='${nodeId}']`);
                        if (this.selectedNodes.includes(nodeId)) {
                             this.selectedNodes = this.selectedNodes.filter(id => id !== nodeId);
                             nodeElement.classList.remove('border-red-500', 'shadow-lg');
                        } else {
                             this.selectedNodes.push(nodeId);
                             nodeElement.classList.add('border-red-500', 'shadow-lg');
                        }

                        if (this.selectedNodes.length === 2) {
                            this.addConnection(this.selectedNodes[0], this.selectedNodes[1]);
                            this.selectedNodes = [];
                            document.querySelectorAll('.network-node').forEach(el => el.classList.remove('border-red-500', 'shadow-lg'));
                        }
                    }
                    
                    addConnection(nodeId1, nodeId2) {
                        if (!this.connections.some(c => (c.from === nodeId1 && c.to === nodeId2) || (c.from === nodeId2 && c.to === nodeId1))) {
                            this.connections.push({ from: nodeId1, to: nodeId2, latency: Math.floor(Math.random() * 50) + 10 });
                            this.render();
                            this.log(`Conexi√≥n creada entre Nodo ${nodeId1} y Nodo ${nodeId2}.`);
                        }
                    }

                    async simulateDataTransmission() {
                        if (this.selectedNodes.length !== 2) {
                            alert('Por favor, selecciona exactamente dos nodos (origen y destino) para enviar datos.');
                            return;
                        }
                        const [startId, endId] = this.selectedNodes;
                        const path = this.findShortestPath(startId, endId);

                        if (!path) {
                            this.log(`No se encontr√≥ ruta entre Nodo ${startId} y Nodo ${endId}.`, 'error');
                            return;
                        }

                        this.log(`Enviando paquete de ${startId} a ${endId}...`);
                        let totalLatency = 0;

                        for (let i = 0; i < path.length - 1; i++) {
                            const fromNode = document.querySelector(`.network-node[data-node-id='${path[i]}']`);
                            const toNode = document.querySelector(`.network-node[data-node-id='${path[i+1]}']`);
                            const connEl = document.querySelector(`.network-connection[data-from='${path[i]}'][data-to='${path[i+1]}']`) || document.querySelector(`.network-connection[data-from='${path[i+1]}'][data-to='${path[i]}']`);
                            const connData = this.connections.find(c => (c.from === path[i] && c.to === path[i+1]) || (c.from === path[i+1] && c.to === path[i]));

                            fromNode.classList.add('bg-yellow-300');
                            if(connEl) connEl.classList.add('bg-yellow-400');

                            await new Promise(res => setTimeout(res, connData.latency * 5));
                            totalLatency += connData.latency;

                            fromNode.classList.remove('bg-yellow-300');
                             if(connEl) connEl.classList.remove('bg-yellow-400');
                             toNode.classList.add('bg-green-300');
                             await new Promise(res => setTimeout(res, 100));
                             toNode.classList.remove('bg-green-300');
                        }

                        this.log(`Paquete recibido en ${endId}. Latencia total: ${totalLatency}ms.`, 'success');
                        document.getElementById('network-latencyValue').textContent = `${totalLatency}ms`;
                        document.getElementById('network-packetsValue').textContent = parseInt(document.getElementById('network-packetsValue').textContent) + 1;
                        this.clearSelection();
                    }
                    
                     analyzePath() {
                        if (this.selectedNodes.length !== 2) {
                            alert("Selecciona dos nodos para analizar la ruta.");
                            return;
                        }
                        const [startId, endId] = this.selectedNodes;
                        const path = this.findShortestPath(startId, endId);
                        if(path){
                             let totalLatency = 0;
                             for (let i = 0; i < path.length - 1; i++) {
                                 const conn = this.connections.find(c => (c.from === path[i] && c.to === path[i + 1]) || (c.from === path[i + 1] && c.to === path[i]));
                                 if (conn) totalLatency += conn.latency;
                             }
                             this.log(`Ruta m√°s corta: ${path.join(' -> ')}. Latencia: ${totalLatency}ms.`, 'info');
                        } else {
                             this.log(`No hay ruta entre Nodo ${startId} y Nodo ${endId}.`, 'error');
                        }
                         this.clearSelection();
                    }

                    findShortestPath(startId, endId) {
                        let queue = [[startId]];
                        let visited = new Set([startId]);

                        while (queue.length > 0) {
                            let path = queue.shift();
                            let lastNodeId = path[path.length - 1];

                            if (lastNodeId === endId) return path;

                            let neighbors = this.connections.filter(c => c.from === lastNodeId || c.to === lastNodeId)
                                .map(c => c.from === lastNodeId ? c.to : c.from);

                            for (let neighbor of neighbors) {
                                if (!visited.has(neighbor)) {
                                    visited.add(neighbor);
                                    let newPath = [...path, neighbor];
                                    queue.push(newPath);
                                }
                            }
                        }
                        return null; // No path found
                    }

                    clearNetwork() {
                        this.nodes = [];
                        this.connections = [];
                        this.nextNodeId = 1;
                        this.render();
                        this.log('Red limpiada.');
                    }
                     clearSelection(){
                         this.selectedNodes = [];
                         document.querySelectorAll('.network-node').forEach(el => el.classList.remove('border-red-500', 'shadow-lg'));
                    }

                    render() {
                        const canvas = document.getElementById('network-canvas');
                        canvas.innerHTML = '';
                        this.connections.forEach(conn => {
                            const fromNode = this.nodes.find(n => n.id === conn.from);
                            const toNode = this.nodes.find(n => n.id === conn.to);
                            if(!fromNode || !toNode) return;

                            const line = document.createElement('div');
                            const fromX = fromNode.x + 30, fromY = fromNode.y + 30;
                            const toX = toNode.x + 30, toY = toNode.y + 30;
                            const length = Math.hypot(toX - fromX, toY - fromY);
                            const angle = Math.atan2(toY - fromY, toX - fromX) * 180 / Math.PI;

                            line.className = 'network-connection absolute h-1 bg-amber-600 origin-left';
                            line.dataset.from = conn.from;
                            line.dataset.to = conn.to;
                            line.style.width = `${length}px`;
                            line.style.left = `${fromX}px`;
                            line.style.top = `${fromY}px`;
                            line.style.transform = `rotate(${angle}deg)`;
                            canvas.appendChild(line);
                        });
                        this.nodes.forEach(node => {
                            const nodeEl = document.createElement('div');
                            nodeEl.className = 'network-node absolute w-16 h-16 bg-orange-100 border-4 border-amber-700 rounded-lg flex flex-col items-center justify-center cursor-pointer text-xs';
                            nodeEl.dataset.nodeId = node.id;
                            nodeEl.style.left = `${node.x}px`;
                            nodeEl.style.top = `${node.y}px`;
                            const icons = { computer: 'üíª', server: 'üñ•Ô∏è', router: 'üì°', switch: 'üîå' };
                            nodeEl.innerHTML = `<div class="text-2xl">${icons[node.type]}</div><div>${node.name}</div>`;
                            canvas.appendChild(nodeEl);
                        });
                    }

                    log(message, type = 'info') {
                        const logEl = document.getElementById('network-transmissionLog');
                        const entry = document.createElement('div');
                        const colors = { info: 'text-gray-300', success: 'text-green-400', error: 'text-red-400' };
                        entry.className = colors[type];
                        entry.textContent = `> ${message}`;
                        logEl.appendChild(entry);
                        logEl.scrollTop = logEl.scrollHeight;
                    }
                }
                 new NetworkSimulator();

                document.querySelectorAll('.network-device-item').forEach(btn => {
                    btn.className = 'network-device-item p-2 bg-amber-200 border-2 border-amber-600 rounded-lg text-center cursor-grab text-xs text-amber-900 font-semibold';
                });
                 document.querySelectorAll('.network-control-btn').forEach(btn => {
                    btn.className += ' bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-3 rounded-lg transition text-sm';
                });
            }

        });
    </script>
</body>
</html>

